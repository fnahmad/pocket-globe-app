{"version":3,"sources":["App/Layout.js","App/LoadingSpinner.js","App/useData.js","App/Country/Details.js","App/Country/InfoBox.js","App/Country/PhotoCard.js","App/Modal.js","App/Country/PhotoViewer.js","App/Country/Photos.js","App/Country/WikiEntry.js","App/Country/index.js","App/Globe/useData.js","App/Globe/Tooltip.js","App/Globe/index.js","App/Globe/useWindowWidth.js","App/Globe/utils.js","App/Navbar.js","App/Footer.js","App/index.js","index.js"],"names":["useStyles","makeStyles","breakpoints","spacing","container","height","display","gridTemplateRows","gridTemplateColumns","down","flexDirection","leftColumn","padding","paddingRight","justifyContent","rightColumn","paddingLeft","overflowY","overflowX","only","paddingTop","Layout","navbar","footer","classes","useTheme","matchesDownSm","useMediaQuery","Container","maxWidth","disableGutters","Paper","className","width","alignItems","LoadingSpinner","style","CircularProgress","useData","useState","data","setData","url","setUrl","config","setConfig","isLoading","setIsLoading","isError","setIsError","useEffect","a","axios","get","result","fetchData","styles","border","marginBottom","up","Details","alphaCode","capital","currencies","population","area","languages","details","label","value","format","slice","LANGUAGES_LIMIT","map","l","name","join","TableContainer","Table","size","TableBody","TableRow","key","hover","TableCell","component","variant","columnGap","infoBox","InfoBox","children","gridRowEnd","spans","img","cursor","PhotoCard","memo","photo","onClick","imageRef","useRef","setSpans","updateSpans","current","clientHeight","Math","ceil","imageEl","addEventListener","window","removeEventListener","urls","alt_description","ref","src","small","alt","theme","modal","div","outline","boxShadow","shadows","Modal","inZoom","other","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Zoom","in","referralString","figure","margin","backgroundColor","PhotoViewer","description","links","user","regular","Typography","align","Link","href","html","gridAutoRows","gridGap","Photos","term","isModalOpen","setIsModalOpen","currentIndex","setCurrentIndex","params","query","per_page","headers","Authorization","process","photos","results","clickedPhoto","i","id","open","onClose","WikiEntry","entry","extract","length","split","variont","Country","countryProps","columns","topologyUrl","high","low","tooltip","position","borderRadius","color","textAlign","pointerEvents","transform","zIndex","Tooltip","forwardRef","props","palette","primary","background","getContrastText","svg","country","fill","default","stroke","transition","strokeWidth","main","selected","light","circle","Globe","defaultSize","sensitivity","initialAlphaCode","onCountryClick","windowWidth","innerWidth","setWidth","useLayoutEffect","updateWidth","useWindowWidth","values","sm","svgRef","tooltipRef","selectedCountryCode","setSelectedCountryCode","projection","useMemo","geoOrthographic","scale","center","rotate","translate","initialScale","path","geoPath","resolution","Promise","all","json","then","topology","isoCodes","countriesGeoJSON","feature","objects","countries","features","forEach","isoCodeObj","find","properties","numericCode","catch","select","selectAll","call","selection","drag","on","event","k","dx","dy","attr","dragBehaviour","maxZoom","minZoom","zoom","zoomValue","zoomBehaviour","handleMouseover","duration","pageX","pageY","document","body","xOffset","scrollLeft","offsetLeft","handleMouseout","getTooltipHandlers","e","d","currentRotate","centroid","invert","longitude","latitude","nextRotate","r","interpolate","attrTween","t","pow","pathD","cx","cy","root","flexGrow","gridColumn","text","toolbar","title","left","pushToRight","marginLeft","Navbar","onThemeIconClick","type","matchesUpSm","matchesDownSmall","matchesDownMobile","mobile","appGlobeIcon","IconButton","edge","fontSize","githubIcon","aria-label","target","rel","GitHub","themeIcon","titleVariant","AppBar","Toolbar","Footer","year","Date","getFullYear","myGithubLink","initialState","App","darkMode","setDarkMode","createMuiTheme","xs","md","lg","xl","selectedCountry","setSelectedCountry","ThemeProvider","CssBaseline","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.6718f10d.chunk.js","sourcesContent":["import React from 'react';\r\nimport { makeStyles, Paper, Container, useMediaQuery, useTheme } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(({ breakpoints, spacing }) => ({\r\n  container: {\r\n    height: '100vh',\r\n    display: 'grid',\r\n    gridTemplateRows: 'auto 1fr',\r\n    gridTemplateColumns: '4fr 6fr',\r\n    [breakpoints.down('sm')]: {\r\n      height: 'auto',\r\n      display: 'flex',\r\n      flexDirection: 'column'\r\n    }\r\n  },\r\n  leftColumn: {\r\n    padding: spacing(2),\r\n    paddingRight: spacing(1),\r\n\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n  },\r\n  rightColumn: {\r\n    padding: spacing(2),\r\n    paddingLeft: spacing(1),\r\n    overflowY: 'scroll',\r\n    overflowX: 'hidden',\r\n  },\r\n  [breakpoints.down('sm')]: {\r\n    leftColumn: { padding: spacing(2) },\r\n    rightColumn: { padding: spacing(2) }\r\n  },\r\n  [breakpoints.only('xs')]: {\r\n    rightColumn: { paddingTop: 0 }\r\n  }\r\n}));\r\n\r\nexport const Layout = ({ navbar, leftColumn, rightColumn, footer }) => {\r\n  const classes = useStyles();\r\n  const { breakpoints } = useTheme();\r\n  const matchesDownSm = useMediaQuery(breakpoints.down('sm'));\r\n\r\n  return (\r\n    <Container maxWidth={false} disableGutters>\r\n      <Paper className={classes.container}>\r\n        {navbar}\r\n        <div className={classes.leftColumn}>\r\n          {leftColumn}\r\n          {!matchesDownSm && footer}\r\n        </div>\r\n        <div className={classes.rightColumn}>{rightColumn}</div>\r\n        {matchesDownSm && footer}\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\nimport { CircularProgress, makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    width: '100%',\r\n    height: '100%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n});\r\n\r\nexport const LoadingSpinner = ({ height }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.container} style={height ? { height } : null}>\r\n      <CircularProgress />\r\n    </div>\r\n  );\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport const useData = () => {\r\n  const [data, setData] = useState(null);\r\n  const [url, setUrl] = useState(null);\r\n  const [config, setConfig] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setIsError(false);\r\n      setIsLoading(true);\r\n\r\n      try {\r\n        const result = await axios.get(url, config);\r\n        setData(result.data)\r\n\r\n      } catch (error) {\r\n        setIsError(error);\r\n      }\r\n      setIsLoading(false);\r\n    }\r\n    fetchData();\r\n  }, [url, config]);\r\n\r\n  return [{ data, isLoading, isError }, { setUrl, setConfig }]\r\n}","import React, { useEffect } from 'react';\r\nimport { format } from 'd3';\r\nimport {\r\n  makeStyles,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableRow,\r\n} from '@material-ui/core';\r\n\r\nimport { LoadingSpinner } from '../LoadingSpinner';\r\nimport { useData } from '../useData';\r\n\r\nconst LANGUAGES_LIMIT = 4;\r\n\r\nconst styles = {\r\n  horizontal: {\r\n     // Remove border from last detail item\r\n    '& tr:last-child': {\r\n      '& th, td': {\r\n        border: 0\r\n      }\r\n    },    \r\n  }, \r\n  vertical: {\r\n    marginBottom: 10,\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles(({ breakpoints }) => ({\r\n  container: {\r\n    [breakpoints.only('xs')]: styles.vertical,\r\n    [breakpoints.only('sm')]: styles.horizontal,\r\n    [breakpoints.only('md')]: styles.vertical,\r\n    [breakpoints.up('lg')]: styles.horizontal,\r\n  }\r\n}));\r\n\r\nexport const Details = ({ alphaCode }) => {\r\n  const classes = useStyles();\r\n\r\n  const [{ data, isLoading }, { setUrl }] = useData();\r\n\r\n  useEffect(() => {\r\n    setUrl(`https://restcountries.eu/rest/v2/alpha/${alphaCode}`);\r\n  }, [alphaCode, setUrl])\r\n\r\n  if (!data || isLoading) return <LoadingSpinner />;\r\n\r\n  const { capital, currencies, population, area, languages } = data;\r\n  const details = [\r\n    { label: 'Capital', value: capital },\r\n    { label: 'Population', value: format(',d')(population) },\r\n    { label: 'Area', value: format(',d')(area) },\r\n    { label: 'Languages', value: languages.slice(0, LANGUAGES_LIMIT + 1).map(l => l.name).join(', ') },\r\n    { label: 'Currency', value: currencies[0].name },\r\n  ];\r\n\r\n  return (\r\n    <TableContainer className={classes.container}>\r\n      <Table size=\"small\">\r\n        <TableBody>\r\n          {details.map(({ label, value }) => (\r\n            <TableRow key={label} hover>\r\n              <TableCell component=\"th\" variant=\"head\">{label}</TableCell>\r\n              <TableCell>{label === 'Area' ? <>{value} km<sup>2</sup></> : value}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  )\r\n}","import React from 'react';\r\n\r\nimport { makeStyles } from '@material-ui/core';\r\n\r\nconst styles = {\r\n  horizontal: {\r\n    display: 'grid',\r\n    gridTemplateColumns: '5.5fr 4.5fr',\r\n    columnGap: 10,\r\n  },\r\n  vertical: {\r\n    display: 'flex',\r\n    flexDirection: 'column-reverse',\r\n  }\r\n}\r\n\r\nconst useStyles = makeStyles(({ breakpoints }) => ({\r\n  infoBox: {\r\n    ...styles.horizontal,\r\n    [breakpoints.down('md')]: styles.vertical,\r\n    [breakpoints.down('sm')]: styles.horizontal,\r\n    [breakpoints.down('xs')]: styles.vertical,\r\n\r\n  }\r\n}))\r\n\r\nexport const InfoBox = ({ children }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n  <div className={classes.infoBox}>\r\n    {children}\r\n  </div>\r\n)}","import React, { useEffect, useRef, useState, memo } from 'react';\r\nimport { makeStyles } from '@material-ui/core';\r\n\r\nimport { LoadingSpinner } from '../LoadingSpinner';\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    gridRowEnd: (spans) => `span ${spans}`,\r\n  },\r\n  img: {\r\n    width: '100%',\r\n    cursor: 'pointer',\r\n  },\r\n});\r\n\r\nexport const PhotoCard = memo(({ photo, onClick }) => {\r\n  const imageRef = useRef();\r\n  const [spans, setSpans] = useState(0);\r\n\r\n  const classes = useStyles(spans);\r\n\r\n  useEffect(() => {\r\n    if (!photo) return;\r\n\r\n    const updateSpans = () => {\r\n      const height = imageRef.current.clientHeight;\r\n      setSpans(Math.ceil(height / 10 + 1));\r\n    };\r\n\r\n    const imageEl = imageRef.current;\r\n    imageEl.addEventListener('load', updateSpans);\r\n    window.addEventListener('resize', updateSpans);\r\n\r\n    return () => {\r\n      imageEl.removeEventListener('load', updateSpans);\r\n      window.removeEventListener('resize', updateSpans);\r\n    };\r\n  }, [photo]);\r\n\r\n  if (!photo) return <LoadingSpinner />;\r\n  const { urls, alt_description } = photo;\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <img\r\n        className={classes.img}\r\n        ref={imageRef}\r\n        src={urls.small}\r\n        alt={alt_description}\r\n        onClick={onClick}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport {\r\n  makeStyles,\r\n  Modal as MuiModal,\r\n  Backdrop,\r\n  Zoom,\r\n} from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  modal: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  div: {\r\n    outline: 'none',\r\n    boxShadow: theme.shadows[5],\r\n  },\r\n}));\r\n\r\nexport const Modal = ({ inZoom, children, ...other }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <MuiModal\r\n      className={classes.modal}\r\n      closeAfterTransition\r\n      BackdropComponent={Backdrop}\r\n      BackdropProps={{\r\n        timeout: 500,\r\n      }}\r\n      {...other}\r\n    >\r\n      <Zoom in={inZoom}>\r\n        <div className={classes.div}>{children}</div>\r\n      </Zoom>\r\n    </MuiModal>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Link, makeStyles, Typography } from '@material-ui/core';\r\n\r\nconst referralString = '?utm_source=your_app_name&utm_medium=referral';\r\n\r\nconst useStyles = makeStyles(({ breakpoints }) => ({\r\n  figure: {\r\n    margin: '0 auto',\r\n    padding: 25,\r\n    backgroundColor: 'white',\r\n    outline: 'none',\r\n    height: '85vh',\r\n    \r\n  },\r\n  img: {\r\n    height: '100%',\r\n  },\r\n  [breakpoints.down('sm')]: {\r\n    figure: {\r\n      height: 'auto',\r\n      width: '95vw',\r\n    },\r\n    img: {\r\n      height: 'auto',\r\n      width: '100%',\r\n    }\r\n  }\r\n}));\r\n\r\nexport const PhotoViewer = ({ photo }) => {\r\n  const classes = useStyles();\r\n  const { urls, description, links, user: { name } } = photo;\r\n\r\n  return (\r\n    <figure className={classes.figure}>\r\n      <img className={classes.img} src={urls.regular} alt={description} />\r\n      <figcaption>\r\n        <Typography variant=\"caption\" display=\"block\" align=\"center\">\r\n          by{' '}\r\n          <Link href={links.html + referralString}>{name}</Link> on{' '}\r\n          <Link href={`https://unsplash.com/${referralString}`}>Unsplash</Link>\r\n        </Typography>\r\n      </figcaption>\r\n    </figure>\r\n  );\r\n};\r\n","import React, { useState, useEffect, memo } from 'react';\r\nimport { makeStyles } from '@material-ui/core';\r\n\r\nimport { PhotoCard } from './PhotoCard';\r\nimport { LoadingSpinner } from '../LoadingSpinner';\r\nimport { useData } from '../useData';\r\nimport { Modal } from '../Modal';\r\nimport { PhotoViewer } from './PhotoViewer';\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    width: '100%',\r\n    paddingTop: 10,\r\n    display: 'grid',\r\n    gridTemplateColumns: 'repeat(auto-fill, minmax(250px, 1fr))',\r\n    gridAutoRows: 10,\r\n    gridGap: '0 10px',\r\n  },\r\n  figure: {\r\n    margin: '0 auto',\r\n    padding: 25,\r\n    backgroundColor: 'white',\r\n    outline: 'none',\r\n    height: '85vh',\r\n  },\r\n  img: {\r\n    height: '100%',\r\n  },\r\n});\r\n\r\nexport const Photos = memo(({ term }) => {\r\n  const classes = useStyles();\r\n\r\n  const [{ data, isLoading }, { setUrl, setConfig }] = useData();\r\n\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [currentIndex, setCurrentIndex] = useState(1);\r\n  const handlePhotoClick = (index) => {\r\n    setCurrentIndex(index);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setUrl('https://api.unsplash.com/search/photos/');\r\n    setConfig({\r\n      params: {\r\n        query: term,\r\n        per_page: 12,\r\n      },\r\n      headers: {\r\n        Authorization: `Client-ID ${process.env.REACT_APP_UNSPLASH_KEY}`,\r\n      },\r\n    });\r\n  }, [term, setUrl, setConfig]);\r\n\r\n  if (!data || isLoading) return <LoadingSpinner height={300} />;\r\n\r\n  const photos = data.results;\r\n  const clickedPhoto = photos[currentIndex];\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      {photos &&\r\n        photos.map((photo, i) => (\r\n          <PhotoCard\r\n            key={photo.id}\r\n            onClick={() => handlePhotoClick(i)}\r\n            photo={photo}\r\n          />\r\n        ))}\r\n      <Modal \r\n        open={isModalOpen} \r\n        inZoom={isModalOpen}\r\n        onClose={() => setIsModalOpen(false)}\r\n      >\r\n        <PhotoViewer photo={clickedPhoto} />\r\n      </Modal>\r\n    </div>\r\n  );\r\n});\r\n","import React, { useEffect } from 'react';\r\n\r\nimport { Typography } from '@material-ui/core';\r\nimport { LoadingSpinner } from '../LoadingSpinner';\r\n\r\nimport { useData } from '../useData';\r\n\r\nconst MAX_ENTRY_LENGTH = 480;\r\n\r\nexport const WikiEntry = ({ term }) => {\r\n  const [{ data, isLoading }, { setUrl }] = useData();\r\n\r\n  useEffect(() => {\r\n    setUrl(`https://en.wikipedia.org/api/rest_v1/page/summary/${term}`);\r\n  }, [term, setUrl]);\r\n\r\n  if (isLoading || !data) return <LoadingSpinner />;\r\n\r\n  // Keep removing one sentence from the entry until it is less than max length\r\n  let entry = data.extract;\r\n  while (entry.length >= MAX_ENTRY_LENGTH) {\r\n    entry = entry.split('. ').slice(0, -1).join('. ') + '.';\r\n  }\r\n\r\n  return (\r\n    <div className=\"WikiEntry\">\r\n      <Typography variont=\"body2\" align=\"justify\">\r\n        {entry}\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\n","import React, { memo } from 'react';\r\n\r\nimport { Details } from './Details';\r\nimport { InfoBox } from './InfoBox';\r\nimport { Photos } from './Photos';\r\nimport { WikiEntry } from './WikiEntry';\r\n\r\nexport const Country = memo(({ countryProps: { name, alphaCode } }) => {\r\n  return (\r\n    <div>\r\n      <InfoBox>\r\n        <WikiEntry term={name} />\r\n        <Details alphaCode={alphaCode} />\r\n      </InfoBox>\r\n      <Photos term={name} columns={3} />\r\n    </div>\r\n  );\r\n});\r\n","import { useState, useEffect } from 'react';\r\nimport { json } from 'd3';\r\nimport { feature } from 'topojson';\r\n\r\nconst topologyUrl = {\r\n  high: 'https://unpkg.com/world-atlas@2.0.2/countries-50m.json',\r\n  low: 'https://unpkg.com/world-atlas@2.0.2/countries-110m.json',\r\n}\r\n\r\nconst isoCodesUrl = 'https://gist.githubusercontent.com/sitek94/4339d86883340aac67cf61a5ed7bb05e/raw/ISO-3166-Countries-with-Regional-Codes.json';\r\n\r\nexport const useData = ({ resolution }) => {\r\n  const [data, setData] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    Promise.all([\r\n      /**\r\n       * Because topojson data provides only numeric ISO 3166 codes,\r\n       * additionaly I fetch more iso codes data, so I can extend each country object\r\n       * with ISO 3166 alpha-3 code.\r\n       * \r\n       * This will be useful when fetching more data about each country.\r\n       */\r\n      json(topologyUrl[resolution]),\r\n      json(isoCodesUrl)\r\n    ])\r\n    .then(([topology, isoCodes]) => {\r\n\r\n      // Convert TopoJSON to GeoJSON \r\n      const countriesGeoJSON = feature(topology, topology.objects.countries);\r\n\r\n      // Extend properties of each feature with ISO CODES\r\n      countriesGeoJSON.features.forEach(feature => {\r\n        // Some countries in the collection don't have an id\r\n        if (feature.id) {\r\n          const isoCodeObj = isoCodes.find(country => country['country-code'] === feature.id);\r\n          feature.properties = {\r\n            name: isoCodeObj.name,\r\n            alphaCode: isoCodeObj['alpha-3'],\r\n            numericCode: isoCodeObj['country-code']\r\n          }\r\n        }\r\n      })\r\n\r\n      setData(countriesGeoJSON);\r\n    })\r\n    .catch(setIsError);\r\n\r\n    setIsLoading(false);\r\n  }, [resolution]);\r\n\r\n  return [{ data, isLoading, isError }];\r\n}","import React, { forwardRef } from 'react';\r\nimport { makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles({\r\n  tooltip: {\r\n    position: 'absolute',\r\n    padding: 5,\r\n    borderRadius: 6,\r\n    color: '#fff',\r\n    backgroundColor: 'rgba(0,0,0, .8)',\r\n    textAlign: 'center',\r\n   \r\n    pointerEvents: 'none',\r\n    transform: 'translate(-50%, 0)',\r\n    zIndex: '1',\r\n  },\r\n});\r\n\r\n/**\r\n * Tooltip component \r\n * \r\n * @param ref it needs ref so that a component that renders it can assign\r\n *            event handlers to the tooltip\r\n */ \r\nexport const Tooltip = forwardRef((props, ref) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.tooltip} ref={ref} />\r\n  )\r\n});\r\n\r\n/**\r\n * Get tooltip event handlers\r\n * \r\n * @param selection when called with selection using d3.select() method \r\n *                  it returns mouseover and mouseout event handlers\r\n */\r\nexport const getTooltipHandlers = (selection) => {\r\n  if (!selection) return;\r\n\r\n  // Tooltip container\r\n  const tooltip = selection\r\n    .style('opacity', 0);\r\n\r\n  // Mouse over handler\r\n  const handleMouseover = (event, { properties: { name } }) => {\r\n\r\n  // Tooltip transition\r\n  tooltip.transition()\r\n    .duration(900)\t\t\r\n    .style(\"opacity\", .9);\r\n\r\n  // Update tooltip text\r\n  tooltip.html(name);\r\n\r\n  // Get constants to compute tooltip position\r\n  const { pageX, pageY } = event;\r\n  const { scrollLeft, offsetLeft } =  document.body;\r\n  const yOffset = -70;\r\n  const xOffset = scrollLeft + offsetLeft;\r\n\r\n  // Update tooltip position\r\n  tooltip\r\n    .style(\"left\", pageX + xOffset + \"px\")\t\t\r\n    .style(\"top\", pageY + yOffset + \"px\");\r\n  }\r\n\r\n  // Mouse out handler\r\n  const handleMouseout = () => {\r\n    tooltip.transition()\t\t\r\n      .duration(500)\t\t\r\n      .style(\"opacity\", 0);\t\r\n  }\r\n\r\n  return { handleMouseover, handleMouseout };\r\n}","import React, { useState, useEffect, useRef, memo, useMemo } from 'react';\r\nimport { geoPath, geoOrthographic, select, interpolate } from 'd3';\r\nimport { makeStyles, useTheme } from '@material-ui/core';\r\n\r\nimport { useData } from './useData';\r\nimport { useWindowWidth } from './useWindowWidth';\r\nimport { dragBehaviour, zoomBehaviour } from './utils';\r\nimport { LoadingSpinner } from '../LoadingSpinner';\r\nimport { Tooltip, getTooltipHandlers } from './Tooltip';\r\n\r\nconst useStyles = makeStyles(\r\n  ({ palette: { primary, background, getContrastText } }) => ({\r\n    svg: {\r\n      display: 'block',\r\n      margin: '0 auto',\r\n    },\r\n    country: {\r\n      fill: background.default,\r\n      stroke: getContrastText(background.default),\r\n      transition: 'fill .5s',\r\n      strokeWidth: 0.25,\r\n      '&:hover': {\r\n        fill: primary.main,\r\n      },\r\n    },\r\n    selected: {\r\n      fill: primary.light,\r\n    },\r\n    circle: {\r\n      fill: getContrastText(background.default),\r\n      transition: 'fill .5s',\r\n    },\r\n  })\r\n);\r\n\r\nexport const Globe = memo(\r\n  ({\r\n    defaultSize = 600,\r\n    sensitivity = 75,\r\n    initialAlphaCode,\r\n    onCountryClick,\r\n  }) => {\r\n    const classes = useStyles();\r\n\r\n    const { breakpoints, spacing } = useTheme();\r\n    const windowWidth = useWindowWidth();\r\n    const padding = spacing(2) * 2;\r\n\r\n    // Compute size of the globe svg\r\n    const size = windowWidth > breakpoints.values.sm + padding\r\n      ? defaultSize\r\n      : windowWidth - padding;\r\n    const width = size, height = size;\r\n\r\n    // Refs\r\n    const svgRef = useRef(null);\r\n    const tooltipRef = useRef(null);\r\n\r\n    // Selected country alpha code - used for adding 'selected' class\r\n    const [selectedCountryCode, setSelectedCountryCode] = useState(initialAlphaCode);\r\n\r\n    // Projection\r\n    // useMemo is important here because we want to create a projection only once\r\n    const projection = useMemo(\r\n      () =>\r\n        geoOrthographic()\r\n          .scale(250)\r\n          .center([0, 0])\r\n          .rotate([0, -30])\r\n          .translate([width / 2, height / 2]),\r\n      [height, width]\r\n    );\r\n    // Initial scale\r\n    const initialScale = projection.scale();\r\n\r\n    // Path generator\r\n    const path = geoPath().projection(projection);\r\n\r\n    // Fetch TopoJSON data\r\n    const [{ data, isLoading }] = useData({ resolution: 'low' });\r\n\r\n    // Draw the globe\r\n    useEffect(() => {\r\n      if (!data) return;\r\n\r\n      // Selectors\r\n      const svg = select(svgRef.current);\r\n      const tooltip = select(tooltipRef.current);\r\n      const circle = svg.select('circle');\r\n      const countries = svg.selectAll(`path`);\r\n\r\n      // Apply zoom and drag\r\n      svg\r\n        // Drag\r\n        .call(\r\n          dragBehaviour({\r\n            selection: countries,\r\n            path,\r\n            projection,\r\n            sensitivity,\r\n          })\r\n        )\r\n        // Zoom\r\n        .call(\r\n          zoomBehaviour({\r\n            selection: countries,\r\n            path,\r\n            projection,\r\n            circle,\r\n            initialScale,\r\n          })\r\n        );\r\n\r\n      // Click event handler\r\n      const handleClick = (e, d) => {\r\n        // Store the current rotation and scale:\r\n        const currentRotate = projection.rotate();\r\n\r\n        // Get projected planar centroid (in pixels)\r\n        const centroid = path.centroid(d);\r\n        // Converts centroid to [longitude, latitude] in degrees\r\n        const [longitude, latitude] = projection.invert(centroid);\r\n\r\n        // Rotate the projection\r\n        projection.rotate([-longitude, -latitude]);\r\n        // Update path generator with new projection\r\n        path.projection(projection);\r\n\r\n        // Calculate next rotation\r\n        const nextRotate = projection.rotate();\r\n\r\n        // Create interpolator function\r\n        const r = interpolate(currentRotate, nextRotate);\r\n\r\n        // Update countries\r\n        countries\r\n          .transition()\r\n          .attrTween('d', (d) => (t) => {\r\n            projection.rotate(r(Math.pow(t, 0.33)));\r\n            path.projection(projection);\r\n\r\n            // When interpolator returns null, Chrome throws errors for\r\n            // <path> with attribute d=\"null\"\r\n            const pathD = path(d);\r\n            return pathD !== null ? pathD : '';\r\n          })\r\n          .duration(1000);\r\n\r\n        onCountryClick(d.properties);\r\n        setSelectedCountryCode(d.properties.alphaCode);\r\n      };\r\n\r\n      // Mouseover, mouseout event handlers\r\n      const { handleMouseover, handleMouseout } = getTooltipHandlers(tooltip);\r\n\r\n      // Update countries\r\n      countries\r\n        .data(data.features)\r\n        .join('path')\r\n        .attr('d', path)\r\n        .on('click', handleClick)\r\n        .on('mouseover', handleMouseover)\r\n        .on('mouseout', handleMouseout);\r\n    }, [\r\n      data,\r\n      path,\r\n      projection,\r\n      initialScale,\r\n      sensitivity,\r\n      onCountryClick,\r\n      classes,\r\n    ]);\r\n\r\n    if (!data || isLoading) return <LoadingSpinner />;\r\n\r\n    return (\r\n      <>\r\n        <svg ref={svgRef} className={classes.svg} width={width} height={height}>\r\n          <circle\r\n            className={classes.circle}\r\n            cx={width / 2}\r\n            cy={height / 2}\r\n            r={250}\r\n          />\r\n          <g>\r\n            {data.features.map(({ properties: { name, alphaCode } }) => (\r\n              <path\r\n                key={name}\r\n                id={alphaCode}\r\n                className={`${classes.country} ${\r\n                  selectedCountryCode === alphaCode && classes.selected\r\n                }`}\r\n              />\r\n            ))}\r\n          </g>\r\n        </svg>\r\n        <Tooltip ref={tooltipRef} />\r\n      </>\r\n    );\r\n  }\r\n);\r\n","import { useState, useLayoutEffect } from 'react';\r\n\r\nexport const useWindowWidth = () => {\r\n  const [width, setWidth] = useState(window.innerWidth);\r\n\r\n  useLayoutEffect(() => {\r\n    const updateWidth = () => {\r\n      setWidth(window.innerWidth);\r\n    };\r\n\r\n    window.addEventListener('resize', updateWidth);\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', updateWidth);\r\n    };\r\n  }, []);\r\n\r\n  return width;\r\n};\r\n","import { drag, zoom } from 'd3';\r\n\r\n// Drag\r\nexport const dragBehaviour = ({ \r\n  selection,\r\n  projection, \r\n  path, \r\n  sensitivity \r\n}) => drag()\r\n  .on('drag', (event) => {\r\n    const rotate = projection.rotate();\r\n    const k = sensitivity / projection.scale();\r\n\r\n    // Update projection\r\n    projection.rotate([rotate[0] + event.dx * k, rotate[1] - event.dy * k]);\r\n\r\n    // Update path generator with new projection\r\n    path.projection(projection);\r\n\r\n    // Update selection\r\n    selection.attr('d', path);\r\n  });\r\n\r\n// Zoom\r\nexport const zoomBehaviour = ({\r\n  selection,\r\n  projection,\r\n  path,\r\n  initialScale,\r\n  circle,\r\n  maxZoom = 20,\r\n  minZoom = 0.3,\r\n}) => zoom()\r\n  .on('zoom', (event) => {\r\n    const zoomValue = event.transform.k;\r\n\r\n    // Reached max/min zoom\r\n    if (zoomValue >= maxZoom) event.transform.k = maxZoom;\r\n    if (zoomValue <= minZoom) event.transform.k = minZoom;\r\n    else {\r\n\r\n      // Update projection\r\n      projection.scale(initialScale * event.transform.k);\r\n\r\n      // Update path generator with new projection\r\n      path.projection(projection);\r\n\r\n      // Update selection\r\n      selection.attr('d', path);\r\n      circle.attr('r', projection.scale());\r\n    } \r\n  });\r\n","import React from 'react';\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  Typography,\r\n  IconButton,\r\n  makeStyles,\r\n  Tooltip,\r\n} from '@material-ui/core';\r\nimport {\r\n  PublicOutlined as GlobeIcon,\r\n  Brightness4 as MoonIcon,\r\n  Brightness7 as SunIcon,\r\n  GitHub as GitHubIcon,\r\n} from '@material-ui/icons';\r\nimport { useTheme, useMediaQuery } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(({ palette, breakpoints, spacing }) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    gridColumn: '1 / span 2',\r\n    color: palette.text.primary,\r\n    backgroundColor: palette.background.default,\r\n  },\r\n  toolbar: {\r\n  },\r\n  title: {\r\n    left: 0,\r\n    position: 'absolute',\r\n    width: '100%',\r\n    textAlign: 'center',\r\n    [breakpoints.only('xs')]: {\r\n      position: 'static',\r\n      textAlign: 'left',\r\n    }\r\n  },\r\n  pushToRight: {\r\n    marginLeft: 'auto',\r\n  }\r\n}));\r\n\r\nexport const Navbar = ({ title, onThemeIconClick }) => {\r\n  const classes = useStyles();\r\n  const { \r\n    palette: { type }, \r\n    breakpoints,\r\n  } = useTheme();\r\n\r\n  // Media queries\r\n  const matchesUpSm = useMediaQuery(breakpoints.up('sm'));\r\n  const matchesDownSmall = useMediaQuery(breakpoints.down('xs'));\r\n  const matchesDownMobile = useMediaQuery(`(max-width:${breakpoints.values.mobile}px)`);\r\n\r\n  // App Globe icon\r\n  const appGlobeIcon = (\r\n    <IconButton edge=\"start\">\r\n      <GlobeIcon fontSize=\"large\" />\r\n    </IconButton>\r\n  );\r\n\r\n  // GitHub repository icon\r\n  const githubIconLabel = 'GitHub repository';\r\n  const githubIcon = (\r\n    <Tooltip title={githubIconLabel} aria-label={githubIconLabel}>\r\n      <IconButton\r\n        className={classes.pushToRight}\r\n        component=\"a\"\r\n        edge=\"end\"\r\n        color=\"inherit\"\r\n        aria-label={githubIconLabel}\r\n        href=\"https://github.com/sitek94/pocket-globe-app\"\r\n        target=\"_blank\"\r\n        rel=\"noopener\"\r\n      >\r\n        <GitHubIcon />\r\n      </IconButton>\r\n    </Tooltip>\r\n  );\r\n\r\n  // Theme toggle icon\r\n  const themeIconLabel = 'Toggle light/dark theme';\r\n  const themeIcon = (\r\n    <Tooltip title={themeIconLabel} aria-label={themeIconLabel}>\r\n      <IconButton\r\n        edge=\"end\"\r\n        color=\"inherit\"\r\n        aria-label={themeIconLabel}\r\n        onClick={onThemeIconClick}\r\n      >\r\n        {type === 'light' ? <MoonIcon /> : <SunIcon />}\r\n      </IconButton>\r\n    </Tooltip>\r\n  );\r\n\r\n  let titleVariant = 'h4';\r\n  if (matchesDownSmall) titleVariant = 'h5';\r\n  if (matchesDownMobile) titleVariant = 'h6';  \r\n\r\n  return (\r\n    <AppBar className={classes.root} position=\"static\">\r\n      <Toolbar className={classes.toolbar}>\r\n        {matchesUpSm && appGlobeIcon}\r\n        <Typography className={classes.title} variant={titleVariant}>{title}</Typography>\r\n        {githubIcon}\r\n        {themeIcon}\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n","import React, { memo } from 'react';\r\nimport { Typography, Link, makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(({ breakpoints, spacing }) => ({\r\n  footer: {\r\n    [breakpoints.down('sm')]: {\r\n      padding: spacing(1),\r\n      textAlign: 'center'\r\n    }\r\n  }\r\n}))\r\n\r\nexport const Footer = memo(() => {\r\n  const classes = useStyles();\r\n\r\n  const year = new Date().getFullYear();\r\n\r\n  const myGithubLink = (\r\n    <Link href=\"https://github.com/sitek94\" target=\"_blank\"  variant=\"body2\" rel=\"noopener\">\r\n      Maciek Sitkowski\r\n    </Link>\r\n  )\r\n  \r\n  return (\r\n    <footer className={classes.footer}>\r\n      <Typography>&copy; {year} by {myGithubLink}</Typography>\r\n    </footer>\r\n  )\r\n})","import React, { useState } from 'react';\n\nimport { Layout } from './Layout';\nimport { Country } from './Country';\nimport { Globe } from './Globe';\nimport { Navbar } from './Navbar';\nimport { Footer } from './Footer';\nimport { ThemeProvider, createMuiTheme, CssBaseline } from '@material-ui/core';\n\nconst initialState = {\n  name: 'Poland',\n  alphaCode: 'POL',\n};\n\nexport const App = () => {\n  // Dark/light mode\n  const [darkMode, setDarkMode] = useState(false);\n  const theme = createMuiTheme({\n    palette: {\n      type: darkMode ? 'dark' : 'light',\n      primary: {\n        main: '#1976d2', // Shade of blue from Material UI website\n      },\n    },\n    breakpoints: {\n      values: {\n        xs: 0,\n        mobile: 400,\n        sm: 600,\n        md: 960,\n        lg: 1280,\n        xl: 1920,\n      }\n    }\n  });\n\n  const handleDarkModeToggle = () => setDarkMode(!darkMode);\n\n  // Selected country\n  const [selectedCountry, setSelectedCountry] = useState(initialState);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Layout\n        navbar={\n          <Navbar\n            title={selectedCountry.name}\n            onThemeIconClick={handleDarkModeToggle}\n          />\n        }\n        leftColumn={\n          <Globe\n            initialAlphaCode={initialState.alphaCode}\n            onCountryClick={setSelectedCountry}\n          />\n        }\n        rightColumn={<Country countryProps={selectedCountry} />}\n        footer={<Footer />}\n      />\n    </ThemeProvider>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}