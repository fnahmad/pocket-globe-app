{"version":3,"sources":["components/layout/layout-styles.js","components/layout/index.js","components/Navbar.js","components/Footer.js","components/globe/globe-styles.js","components/LoadingSpinner.js","components/globe/globe-transformations.js","components/widgets/ButtonBase.js","components/widgets/ShadowHelper.js","components/widgets/WidgetNavigation.js","components/widgets/WidgetZoom.js","components/widgets/WidgetRandomCountry.js","components/widgets/index.js","utils/keyCodes.js","utils/countries.js","utils/index.js","components/globe/index.js","components/globe/useGeoJsonData.js","components/ErrorBox.js","components/country-about/details/details-styles.js","hooks/useDataApi.js","components/country-about/details/utils.js","components/country-about/apis.js","components/country-about/details/index.js","components/country-about/InfoBox.js","components/Modal.js","components/country-about/photos/PhotoViewer.js","components/country-about/photos/index.js","components/country-about/wiki-entry/index.js","components/country-about/wiki-entry/utils.js","components/country-about/index.js","components/search-box/search-box-styles.js","components/search-box/index.js","components/layout/hooks/useColumnWidth.js","components/layout/hooks/useBodyWidth.js","components/layout/hooks/useColumnHeight.js","components/app/useTheme.js","components/Shortcuts.js","components/app/index.js","components/layout/hooks/useGlobeSize.js","index.js"],"names":["useStyles","makeStyles","breakpoints","spacing","layout","minHeight","height","display","gridTemplateRows","gridTemplateColumns","overflowX","down","flexDirection","navbar","gridColumn","leftColumn","position","padding","paddingRight","justifyContent","rightColumn","paddingLeft","overflowY","only","paddingTop","footer","Layout","classes","Container","maxWidth","disableGutters","Paper","className","elevation","palette","root","color","text","primary","backgroundColor","background","default","toolbar","title","left","width","textAlign","pushToRight","marginLeft","useNavbarIconStyles","NavbarButton","label","other","Tooltip","IconButton","clsx","edge","aria-label","Navbar","onThemeIconClick","onWidgetsIconClick","onShortcutsIconClick","useTheme","type","matchesUpSm","useMediaQuery","up","matchesDownSmall","matchesDownMobile","values","mobile","appGlobeIcon","disabled","fontSize","titleVariant","AppBar","Toolbar","Typography","variant","onClick","Keyboard","component","href","target","rel","GitHub","shadows","container","boxShadow","Footer","memo","year","Date","getFullYear","myGithubLink","Link","getContrastText","transitions","create","duration","shape","svg","margin","country","fill","stroke","transition","standard","strokeWidth","main","selected","light","circle","spinner","alignItems","LoadingSpinner","style","CircularProgress","throttledRotateProjectionBy","throttle","params","selection","projection","path","rotation","currentRotate","rotate","x","y","z","nextRotate","r","interpolate","attrTween","d","t","Math","pow","pathD","rotateProjectionBy","rotateProjectionTo","throttledZoomProjectionBy","maxScale","minScale","zoomValue","nextScale","scale","attr","zoomProjectionBy","minWidth","borderRadius","shadow","disableShadow","gridArea","borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius","right","center","border","dark","ButtonBase","placement","enterDelay","Button","shadowStyles","base","horizontal","gridRow","vertical","ShadowHelper","holder","gridTemplateAreas","WidgetNavigation","onRotateClick","onCenterClick","id","grouped","WidgetZoom","ButtonGroup","orientation","Add","Remove","WidgetRandomCountry","widgets","zIndex","marginBottom","bottom","grid","WidgetsBase","forwardRef","props","ref","Widgets","show","children","Slide","direction","in","mountOnEnter","unmountOnExit","ARROW_KEYS","PLUS_MINUS_KEYS","ALPHA_KEYS","countries","name","code","alpha","initialState","getCountryById","find","Globe","initialRotation","initialScale","maxScroll","minScroll","zoomInValue","zoomOutValue","sensitivity","rotationValue","selectedCountry","onCountryClick","onRandomCountryClick","showWidgets","svgRef","useRef","useMemo","geoOrthographic","translate","geoPath","useState","features","data","setData","isLoading","setIsLoading","isError","setIsError","useEffect","_isMounted","a","axios","get","topology","geoJsonData","feature","objects","fetchData","useGeoJsonData","length","select","current","globeCircle","countryPaths","selectAll","dragBehaviour","drag","on","event","k","dx","dy","zoomBehaviour","zoom","scrollValue","transform","call","join","handleKeyDown","which","keyCode","ctrlKey","pressedKey","includes","KEY_","window","addEventListener","removeEventListener","cx","cy","map","key","currentTarget","rotateBy","resetRotation","box","ErrorBox","when","Box","bgcolor","styles","dataFetchReducer","state","action","isErorr","payload","Error","useDataApi","initialData","initialUrl","initialConfig","axiosInstance","url","setUrl","config","setConfig","useReducer","dispatch","didCancel","result","initialDetails","capital","currencies","population","area","languages","notListedCountries","NCY","SXX","XXK","restCountriesApi","baseURL","unsplashApi","per_page","headers","Authorization","process","wikiApi","DetailItem","value","TableRow","hover","TableCell","Details","setQuery","details","format","slice","LANGUAGES_LIMIT","l","generateDetailsArray","TableContainer","Table","size","TableBody","columnGap","infoBox","InfoBox","theme","modal","div","outline","Modal","open","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Zoom","common","figure","white","img","PhotoViewer","photo","urls","alt_description","links","user","src","regular","alt","align","html","photos","card","cursor","overflow","fade","WebkitColumnBreakInside","pageBreakInside","breakInside","list","columnCount","Photos","term","results","query","isModalOpen","setIsModalOpen","currentIndex","setCurrentIndex","total_pages","Alert","severity","marginTop","AlertTitle","i","tabIndex","small","aspectRatio","animationDuration","disableSpinner","onClose","WikiEntry","extract","variont","string","limit","shortenedString","split","limitCharacters","CountryAbout","autocompleteRoot","top","autocompletePaper","inputRoot","inputInput","inputWrapper","searchIcon","SearchBox","onOptionSelect","setValue","inputValue","setInputValue","stopPropagation","autocomplete","Autocomplete","onChange","newValue","onInputChange","options","getOptionLabel","option","paper","renderInput","InputProps","InputBase","placeholder","input","inputProps","onKeyDown","Search","useColumnWidth","bodyWidth","delay","document","body","clientWidth","setWidth","useLayoutEffect","handleResize","debouncedHandleResize","debounce","useBodyWidth","useColumnHeight","matchesXsAndLandscape","documentElement","clientHeight","defaultTheme","createMuiTheme","createData","description","rows","table","cellKey","fontFamily","ShortcutsTable","TableHead","row","Shortcuts","App","prefersDarkMode","darkMode","setDarkMode","buttonWidth","toggleTheme","matchesSmallScreens","matchesMediumScreens","matchesLargeScreens","columnWidth","columnHeight","useGlobeSize","globeWidth","globeHeight","setShowWidgets","toggleWidgetsVisibility","prev","shortcuts","setShowShortcuts","toggleShortcutsVisibility","setSelectedCountry","setRotation","centerOnSelectedCountry","updateSelectedCountry","useCallback","newCountry","setRandomCountry","sample","ThemeProvider","CssBaseline","rotationBy","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.ccfd7136.chunk.js","sourcesContent":["import { makeStyles } from '@material-ui/core';\r\n\r\nexport const useStyles = makeStyles(({ breakpoints, spacing }) => ({\r\n  layout: {\r\n    minHeight: '100vh',\r\n    height: '100vh',\r\n    display: 'grid',\r\n    gridTemplateRows: 'auto 1fr',\r\n    gridTemplateColumns: '1fr 1fr',\r\n    /* Overflow is required due to sliding transitions of widgets */\r\n    overflowX: 'hidden',\r\n    [breakpoints.down('sm')]: {\r\n      height: '100%',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n    },\r\n  },\r\n  navbar: {\r\n    gridColumn: '1 / span 2',\r\n  },\r\n  leftColumn: {\r\n    position: 'relative',\r\n    padding: spacing(2),\r\n    paddingRight: spacing(1),\r\n\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n    [breakpoints.down('sm')]: {\r\n      padding: spacing(2),\r\n    },\r\n  },\r\n  rightColumn: {\r\n    height: '100%',\r\n    padding: spacing(2),\r\n    paddingLeft: spacing(1),\r\n    overflowY: 'scroll',\r\n    overflowX: 'hidden',\r\n    [breakpoints.down('sm')]: {\r\n      padding: spacing(2),\r\n      overflowY: 'hidden',\r\n    },\r\n    [breakpoints.only('xs')]: {\r\n      paddingTop: 0,\r\n    },\r\n  },\r\n  footer: {\r\n    gridColumn: '1 / span 2',\r\n  },\r\n}));\r\n","import React from 'react';\r\nimport { Paper, Container } from '@material-ui/core';\r\nimport { useStyles } from './layout-styles';\r\n\r\nexport const Layout = ({ navbar, leftColumn, rightColumn, footer }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Container maxWidth={false} disableGutters>\r\n      <Paper className={classes.layout} elevation={0}>\r\n        <div className={classes.navbar}>{navbar}</div>\r\n        <div className={classes.leftColumn}>{leftColumn}</div>\r\n        <div className={classes.rightColumn}>{rightColumn}</div>\r\n        <div className={classes.footer}>{footer}</div>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  Typography,\r\n  IconButton,\r\n  makeStyles,\r\n  Tooltip,\r\n} from '@material-ui/core';\r\nimport {\r\n  PublicOutlined as GlobeIcon,\r\n  Brightness4 as MoonIcon,\r\n  Brightness7 as SunIcon,\r\n  GitHub as GitHubIcon,\r\n  Widgets as WidgetsIcon,\r\n  Keyboard as KeyboardIcon,\r\n} from '@material-ui/icons';\r\nimport { useTheme, useMediaQuery } from '@material-ui/core';\r\nimport clsx from 'clsx';\r\n\r\nconst useStyles = makeStyles(({ palette, breakpoints }) => ({\r\n  root: {\r\n    color: palette.text.primary,\r\n    backgroundColor: palette.background.default,\r\n  },\r\n  toolbar: {},\r\n  title: {\r\n    left: 0,\r\n    position: 'absolute',\r\n    width: '100%',\r\n    textAlign: 'center',\r\n    [breakpoints.only('xs')]: {\r\n      position: 'static',\r\n      textAlign: 'left',\r\n    },\r\n  },\r\n  pushToRight: {\r\n    marginLeft: 'auto',\r\n  },\r\n}));\r\n\r\nconst useNavbarIconStyles = makeStyles({\r\n  root: {},\r\n  pushToRight: {\r\n    marginLeft: 'auto',\r\n  },\r\n});\r\n\r\nconst NavbarButton = ({ label, pushToRight, ...other }) => {\r\n  const classes = useNavbarIconStyles();\r\n\r\n  return (\r\n    <Tooltip title={label}>\r\n      <IconButton\r\n        className={clsx({\r\n          [classes.pushToRight]: pushToRight,\r\n        })}\r\n        edge=\"end\"\r\n        color=\"inherit\"\r\n        aria-label={label}\r\n        {...other}\r\n      />\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nexport const Navbar = ({\r\n  title,\r\n  onThemeIconClick,\r\n  onWidgetsIconClick,\r\n  onShortcutsIconClick,\r\n}) => {\r\n  const classes = useStyles();\r\n  const {\r\n    palette: { type },\r\n    breakpoints,\r\n  } = useTheme();\r\n\r\n  // Media queries\r\n  const matchesUpSm = useMediaQuery(breakpoints.up('sm'));\r\n  const matchesDownSmall = useMediaQuery(breakpoints.down('xs'));\r\n  const matchesDownMobile = useMediaQuery(\r\n    `(max-width:${breakpoints.values.mobile}px)`\r\n  );\r\n\r\n  // App Globe icon\r\n  const appGlobeIcon = (\r\n    <IconButton disabled edge=\"start\">\r\n      <GlobeIcon fontSize=\"large\" />\r\n    </IconButton>\r\n  );\r\n\r\n  let titleVariant = 'h4';\r\n  if (matchesDownSmall) titleVariant = 'h5';\r\n  if (matchesDownMobile) titleVariant = 'h6';\r\n\r\n  return (\r\n    <AppBar className={classes.root} position=\"static\">\r\n      <Toolbar className={classes.toolbar}>\r\n        {matchesUpSm && appGlobeIcon}\r\n        <Typography className={classes.title} variant={titleVariant}>\r\n          {title}\r\n        </Typography>\r\n        <NavbarButton\r\n          label=\"Show/hide shortcuts\"\r\n          onClick={onShortcutsIconClick}\r\n          pushToRight\r\n        >\r\n          <KeyboardIcon />\r\n        </NavbarButton>\r\n        <NavbarButton label=\"Show/hide widgets\" onClick={onWidgetsIconClick}>\r\n          <WidgetsIcon />\r\n        </NavbarButton>\r\n        <NavbarButton\r\n          component=\"a\"\r\n          label=\"GitHub repository\"\r\n          href=\"https://github.com/sitek94/pocket-globe-app\"\r\n          target=\"_blank\"\r\n          rel=\"noopener\"\r\n        >\r\n          <GitHubIcon />\r\n        </NavbarButton>\r\n        <NavbarButton\r\n          label=\"Toggle light/dark theme\"\r\n          onClick={onThemeIconClick}\r\n        >\r\n          {type === 'light' ? <MoonIcon /> : <SunIcon />}\r\n        </NavbarButton>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n","import React, { memo } from 'react';\r\nimport { Typography, Link, makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(({ spacing, shadows }) => ({\r\n  container: {\r\n    padding: spacing(1),\r\n    textAlign: 'center',\r\n    boxShadow: shadows['7']\r\n  }\r\n}))\r\n\r\nexport const Footer = memo(() => {\r\n  const classes = useStyles();\r\n\r\n  const year = new Date().getFullYear();\r\n\r\n  const myGithubLink = (\r\n    <Link href=\"https://github.com/sitek94\" target=\"_blank\"  variant=\"body2\" rel=\"noopener\">\r\n      Maciek Sitkowski\r\n    </Link>\r\n  )\r\n  \r\n  return (\r\n    <footer className={classes.container}>\r\n      <Typography color=\"textSecondary\" variant=\"body2\">&copy; {year} by {myGithubLink}</Typography>\r\n    </footer>\r\n  )\r\n})","import { makeStyles } from '@material-ui/core';\r\n\r\nexport const useStyles = makeStyles(\r\n  ({\r\n    palette: { primary, background, getContrastText },\r\n    transitions: { create, duration },\r\n    shadows,\r\n    shape,\r\n  }) => ({\r\n    container: {\r\n      position: 'relative',\r\n      height: '100%',\r\n    },\r\n    svg: {\r\n      display: 'block',\r\n      margin: '0 auto',\r\n    },\r\n    country: {\r\n      fill: background.default,\r\n      stroke: getContrastText(background.default),\r\n      transition: create('fill', duration.standard),\r\n      strokeWidth: 0.25,\r\n      '&:hover': {\r\n        fill: primary.main,\r\n      },\r\n    },\r\n    selected: {\r\n      fill: primary.light,\r\n    },\r\n    circle: {\r\n      fill: getContrastText(background.default),\r\n      transition: create('fill', duration.standard),\r\n    },\r\n  })\r\n);\r\n","import React from 'react';\r\n\r\nimport { CircularProgress, makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles({\r\n  spinner: {\r\n    width: '100%',\r\n    height: '50%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n});\r\n\r\nexport const LoadingSpinner = ({ height }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.spinner} style={height ? { height } : null}>\r\n      <CircularProgress />\r\n    </div>\r\n  );\r\n};\r\n","import { interpolate } from 'd3';\r\nimport { throttle } from 'lodash';\r\n\r\n/**\r\n * A function that rotates the projection by x, y and z value\r\n * \r\n * \r\n */\r\nexport const rotateProjectionBy = ({\r\n  selection,\r\n  projection,\r\n  path,\r\n  duration = 1000,\r\n  rotation,\r\n}) => {\r\n  // Store the current rotation and scale:\r\n  const currentRotate = projection.rotate();\r\n\r\n  // Update path generator with new projection\r\n  path.projection(projection);\r\n\r\n  // Set next rotation\r\n  const [x, y, z] = rotation;\r\n  const [currentX, currentY, currentZ] = currentRotate;\r\n  const nextRotate = [currentX + x, currentY + y, currentZ + z];\r\n\r\n  // Create interpolator function\r\n  const r = interpolate(currentRotate, nextRotate);\r\n\r\n  // Update selection\r\n  selection\r\n    .transition()\r\n    .attrTween('d', (d) => (t) => {\r\n      projection.rotate(r(Math.pow(t, 0.33)));\r\n      path.projection(projection);\r\n\r\n      // When interpolator returns null, Chrome throws errors for\r\n      // <path> with attribute d=\"null\"\r\n      const pathD = path(d);\r\n      return pathD !== null ? pathD : '';\r\n    })\r\n    .duration(duration);\r\n};\r\n\r\n/**\r\n * A specialized version of `rotateProjectionBy` used for keyboard events.\r\n * \r\n * It throttles the calls to `rotateProjectionBy` and sets duration of rotation\r\n * to zero and throttle time to 50ms so that the effect is quite smooth.\r\n * \r\n * \r\n */\r\nexport const throttledRotateProjectionBy = throttle((params) => {\r\n  rotateProjectionBy({\r\n    ...params,\r\n    duration: 0,\r\n  });\r\n}, 50);\r\n\r\n/**\r\n * A function that makes a transition from current projection.rotation to \r\n * given rotation\r\n * \r\n * \r\n */\r\nexport const rotateProjectionTo = ({\r\n  selection,\r\n  projection,\r\n  path,\r\n  duration = 1000,\r\n  rotation,\r\n}) => {\r\n  // Store the current rotation and scale:\r\n  const currentRotate = projection.rotate();\r\n  \r\n  // Update path generator with new projection\r\n  path.projection(projection);\r\n\r\n  // Set  next rotation\r\n  const nextRotate = rotation;\r\n\r\n  // Create interpolator function\r\n  const r = interpolate(currentRotate, nextRotate);\r\n\r\n  // Update selection\r\n  selection\r\n    .transition()\r\n    .attrTween('d', (d) => (t) => {\r\n      projection.rotate(r(Math.pow(t, 0.33)));\r\n      path.projection(projection);\r\n\r\n      // When interpolator returns null, Chrome throws errors for\r\n      // <path> with attribute d=\"null\"\r\n      const pathD = path(d);\r\n      return pathD !== null ? pathD : '';\r\n    })\r\n    .duration(duration);\r\n};\r\n\r\n/**\r\n * A function that zooms given projection by given value\r\n * \r\n * \r\n */\r\nexport const zoomProjectionBy = ({\r\n  selection,\r\n  projection,\r\n  path,\r\n  circle,\r\n  maxScale,\r\n  minScale,\r\n  zoomValue,\r\n}) => {\r\n  let nextScale = projection.scale() * zoomValue;\r\n\r\n  // Reached max/min zoom\r\n  if (nextScale >= maxScale) nextScale = maxScale;\r\n  if (nextScale <= minScale) nextScale = minScale;\r\n  else {\r\n    // Update projection\r\n    projection.scale(nextScale);\r\n\r\n    // Update path generator with new projection\r\n    path.projection(projection);\r\n\r\n    // Update selection\r\n    selection.attr('d', path);\r\n    circle.attr('r', projection.scale());\r\n  }\r\n};\r\n\r\n/**\r\n * A specialized version of `zoomProjectionBy` used for keyboard events.\r\n * \r\n * It throttles the calls to `zoomProjectionBy` and sets duration of rotation\r\n * to zero and throttle time to 50ms so that the effect is quite smooth.\r\n * \r\n * \r\n */\r\nexport const throttledZoomProjectionBy = throttle((params) => {\r\n  zoomProjectionBy({\r\n    ...params,\r\n    duration: 0,\r\n  });\r\n}, 50);\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles, Button, Tooltip } from '@material-ui/core/';\r\n\r\nconst useStyles = makeStyles(({ shadows, shape, palette }) => ({\r\n  root: {\r\n    width: 29,\r\n    height: 29,\r\n    padding: 0,\r\n    minWidth: 0,\r\n    minHeight: 0,\r\n    borderRadius: shape.borderRadius,\r\n    fontSize: '1.3rem',\r\n  },\r\n  shadow: {\r\n    boxShadow: shadows['11'],\r\n    '&:hover': {\r\n      boxShadow: shadows['11'],\r\n    },\r\n  },\r\n  /* Remove shadow because it overlap neighbor buttons */\r\n  disableShadow: {\r\n    boxShadow: 'none',\r\n    '&:hover': {\r\n      boxShadow: 'none',\r\n    },\r\n  },\r\n  up: {\r\n    gridArea: 'up',\r\n    borderBottomLeftRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n  },\r\n  down: {\r\n    gridArea: 'down',\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 0,\r\n  },\r\n  left: {\r\n    gridArea: 'left',\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n  },\r\n  right: {\r\n    gridArea: 'right',\r\n    borderTopLeftRadius: 0,\r\n    borderBottomLeftRadius: 0,\r\n  },\r\n  center: {\r\n    gridArea: 'center',\r\n    borderRadius: 0,\r\n    border: `1px solid ${palette.primary.dark}`,\r\n  },\r\n}));\r\n\r\nexport const ButtonBase = ({\r\n  label,\r\n  className,\r\n  gridArea,\r\n  disableShadow = false,\r\n  ...other\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Tooltip \r\n      title={label} \r\n      placement=\"left\" \r\n      enterDelay={500}\r\n    >\r\n      <Button\r\n        color=\"primary\"\r\n        variant=\"contained\"\r\n        aria-label={label}\r\n        classes={{\r\n          root: classes.root,\r\n        }}\r\n        className={clsx(\r\n          classes[gridArea],\r\n          {\r\n            [classes.disableShadow]: disableShadow,\r\n            [classes.shadow]: !disableShadow,\r\n          },\r\n          className\r\n        )}\r\n        {...other}\r\n      />\r\n    </Tooltip>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/';\r\n\r\nconst shadowStyles = makeStyles(({ shadows, shape }) => ({\r\n  base: {\r\n    /* Mimic shape of rotation widget */\r\n    borderRadius: shape.borderRadius,\r\n    backgroundColor: 'transparent',\r\n    boxShadow: shadows['11'],\r\n  },\r\n  /* Take advantage of the fact that WidgetRotation uses grid display */\r\n  horizontal: {\r\n    gridColumn: '1 / span 3',\r\n    gridRow: '2 / span 1',\r\n  },\r\n  vertical: {\r\n    gridColumn: '2 / span 1',\r\n    gridRow: '2 / span 3',\r\n  },\r\n}));\r\n\r\n/**\r\n * Used by Widget Rotation component, where box shadow is removed due \r\n * to overlapping on the neighbor buttons.\r\n * \r\n * This compoent is rendered beneath Widget Rotation to mimic its box shadow. \r\n * \r\n */\r\nexport const ShadowHelper = () => {\r\n  const classes = shadowStyles();\r\n  return (\r\n    <>\r\n      <div className={clsx(classes.horizontal, classes.base)} />\r\n      <div className={clsx(classes.vertical, classes.base)} />\r\n    </>\r\n  );\r\n};","import React from 'react';\r\n\r\nimport {\r\n  IoIosArrowUp as IconUp,\r\n  IoIosArrowDown as IconDown,\r\n  IoIosArrowBack as IconLeft,\r\n  IoIosArrowForward as IconRight,\r\n} from 'react-icons/io';\r\nimport { MyLocation as LocationIcon } from '@material-ui/icons';\r\nimport { makeStyles } from '@material-ui/core/';\r\nimport { ButtonBase } from './ButtonBase';\r\nimport { ShadowHelper } from './ShadowHelper';\r\n\r\nconst useStyles = makeStyles({\r\n  holder: {\r\n    display: 'grid',\r\n    gridTemplateColumns: `repeat(3, auto)`,\r\n    gridTemplateRows: `repeat(3, auto)`,\r\n    gridTemplateAreas: `\r\n      '. up .'\r\n      'left center right'\r\n      '. down .'`,\r\n  },\r\n});\r\n\r\nexport const WidgetNavigation = ({ onRotateClick, onCenterClick }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.holder}>\r\n      <ButtonBase\r\n        id=\"widget-rotate-up\"\r\n        label=\"Rotate up\"\r\n        gridArea=\"up\"\r\n        onClick={onRotateClick}\r\n        disableShadow\r\n      >\r\n        <IconUp />\r\n      </ButtonBase>\r\n      <ButtonBase\r\n        id=\"widget-rotate-down\"\r\n        label=\"Rotate down\"\r\n        gridArea=\"down\"\r\n        onClick={onRotateClick}\r\n        disableShadow\r\n      >\r\n        <IconDown />\r\n      </ButtonBase>\r\n      <ButtonBase\r\n        id=\"widget-selected-country\"\r\n        label=\"Show selected country\"\r\n        gridArea=\"center\"\r\n        onClick={onCenterClick}\r\n        disableShadow\r\n      >\r\n        <LocationIcon />\r\n      </ButtonBase>\r\n      <ButtonBase\r\n        id=\"widget-rotate-left\"\r\n        label=\"Rotate left\"\r\n        gridArea=\"left\"\r\n        onClick={onRotateClick}\r\n        disableShadow\r\n      >\r\n        <IconLeft />\r\n      </ButtonBase>\r\n      <ButtonBase\r\n        id=\"widget-rotate-right\"\r\n        label=\"Rotate right\"\r\n        gridArea=\"right\"\r\n        onClick={onRotateClick}\r\n        disableShadow\r\n      >\r\n        <IconRight />\r\n      </ButtonBase>\r\n      <ShadowHelper />\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\nimport { makeStyles, ButtonGroup } from '@material-ui/core/';\r\nimport { ButtonBase } from './ButtonBase';\r\nimport { Add as AddIcon, Remove as RemoveIcon } from '@material-ui/icons';\r\n\r\nconst useStyles = makeStyles(({ shape }) => ({\r\n  root: {\r\n    borderRadius: shape.borderRadius,\r\n  },\r\n  grouped: {\r\n    minWidth: 0,\r\n  }\r\n}));\r\n\r\nexport const WidgetZoom = ({ onClick }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <ButtonGroup\r\n      classes={{\r\n        root: classes.root,\r\n        grouped: classes.grouped\r\n      }}\r\n      orientation=\"vertical\"\r\n      variant=\"contained\"\r\n      color=\"primary\"\r\n    >\r\n      <ButtonBase id=\"widget-zoom-in\" label=\"Zoom in\" onClick={onClick}>\r\n        <AddIcon />\r\n      </ButtonBase>\r\n      <ButtonBase id=\"widget-zoom-out\" label=\"Zoom out\" onClick={onClick}>\r\n        <RemoveIcon />\r\n      </ButtonBase>\r\n    </ButtonGroup>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\nimport { ButtonBase } from './ButtonBase';\r\nimport { GiPerspectiveDiceSixFacesRandom as DiceIcon } from 'react-icons/gi';\r\n\r\nexport const WidgetRandomCountry = ({ onClick }) => {\r\n  return (\r\n    <ButtonBase\r\n      id=\"widget-random-country\"\r\n      label=\"Show random country\"\r\n      onClick={onClick}\r\n    >\r\n      <DiceIcon fontSize={25} />\r\n    </ButtonBase>\r\n  );\r\n};\r\n","import React, { forwardRef } from 'react';\r\nimport { makeStyles, Slide } from '@material-ui/core';\r\n\r\nimport { WidgetNavigation } from './WidgetNavigation';\r\nimport { WidgetZoom } from './WidgetZoom';\r\nimport { WidgetRandomCountry } from './WidgetRandomCountry';\r\nexport { WidgetNavigation, WidgetZoom, WidgetRandomCountry };\r\n\r\nconst useStyles = makeStyles(({ spacing, breakpoints }) => ({\r\n  widgets: {\r\n    zIndex: 100,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    '& > *:not(:last-child)': {\r\n      marginBottom: spacing(1),\r\n    },\r\n    /* Position in the right bottom corner of relative parent */\r\n    position: 'absolute',\r\n    bottom: spacing(2),\r\n    right: spacing(2),\r\n    [breakpoints.down('md')]: {\r\n      bottom: 0,\r\n      right: 0,\r\n    },\r\n  },\r\n  grid: {\r\n    display: 'grid',\r\n    gridTemplateColumns: `repeat(3, auto)`,\r\n    gridTemplateRows: `repeat(3, auto)`,\r\n    gridTemplateAreas: `\r\n      '. up .'\r\n      'left center right'\r\n      '. down .'`,\r\n  },\r\n}));\r\n\r\nconst WidgetsBase = forwardRef((props, ref) => {\r\n  const classes = useStyles();\r\n\r\n  return <div ref={ref} className={classes.widgets} {...props} />;\r\n});\r\n\r\nexport const Widgets = ({ show, children }) => {\r\n  return (\r\n    <Slide direction=\"right\" in={show} mountOnEnter unmountOnExit>\r\n      <WidgetsBase>\r\n        {children}\r\n      </WidgetsBase>\r\n    </Slide>\r\n  );\r\n};\r\n","export const L = 76;\r\nexport const R = 82;\r\nexport const W = 87;\r\n\r\nexport const SLASH = 191;\r\n\r\nexport const UP = 38;\r\nexport const DOWN = 40;\r\nexport const LEFT = 37;\r\nexport const RIGHT = 39;\r\n\r\nexport const PLUS = 187;\r\nexport const MINUS = 189;\r\n\r\nexport const NUM_PLUS = 107;\r\nexport const NUM_MINUS = 109;\r\n\r\nexport const ARROW_KEYS = [UP, DOWN, LEFT, RIGHT];\r\nexport const PLUS_MINUS_KEYS = [PLUS, MINUS, NUM_PLUS, NUM_MINUS];\r\nexport const ALPHA_KEYS = [L, R, W];\r\n\r\nexport default {\r\n  L, R, W, UP, SLASH, DOWN, LEFT, RIGHT, PLUS, MINUS, NUM_PLUS, NUM_MINUS\r\n}","export const countries = [\r\n  {\r\n    id: '004',\r\n    name: 'Afghanistan',\r\n    code: '004',\r\n    alpha: 'AFG',\r\n    rotation: [-66.00292433929583, -33.840025643746436, 0],\r\n  },\r\n  {\r\n    id: '008',\r\n    name: 'Albania',\r\n    code: '008',\r\n    alpha: 'ALB',\r\n    rotation: [-20.033816449220577, -41.13444237308559, 0],\r\n  },\r\n  {\r\n    id: '012',\r\n    name: 'Algeria',\r\n    code: '012',\r\n    alpha: 'DZA',\r\n    rotation: [-2.6132358614483158, -28.084901563011012, 0],\r\n  },\r\n  {\r\n    id: '024',\r\n    name: 'Angola',\r\n    code: '024',\r\n    alpha: 'AGO',\r\n    rotation: [-17.465318534442954, 12.225944668587815, 0],\r\n  },\r\n  {\r\n    id: '010',\r\n    name: 'Antarctica',\r\n    code: '010',\r\n    alpha: 'ATA',\r\n    rotation: [-75.63969825781282, 83.47825243637891, 0],\r\n  },\r\n  {\r\n    id: '032',\r\n    name: 'Argentina',\r\n    code: '032',\r\n    alpha: 'ARG',\r\n    rotation: [64.74219710121419, 34.69603926314824, 0],\r\n  },\r\n  {\r\n    id: '051',\r\n    name: 'Armenia',\r\n    code: '051',\r\n    alpha: 'ARM',\r\n    rotation: [-45.009548864806035, -40.21445739967241, 0],\r\n  },\r\n  {\r\n    id: '036',\r\n    name: 'Australia',\r\n    code: '036',\r\n    alpha: 'AUS',\r\n    rotation: [-135.62358765006326, 25.64135766575019, 0],\r\n  },\r\n  {\r\n    id: '040',\r\n    name: 'Austria',\r\n    code: '040',\r\n    alpha: 'AUT',\r\n    rotation: [-14.060416287511531, -47.62096461589918, 0],\r\n  },\r\n  {\r\n    id: '031',\r\n    name: 'Azerbaijan',\r\n    code: '031',\r\n    alpha: 'AZE',\r\n    rotation: [-47.55506309929699, -40.21951070699023, 0],\r\n  },\r\n  {\r\n    id: '044',\r\n    name: 'Bahamas',\r\n    code: '044',\r\n    alpha: 'BHS',\r\n    rotation: [77.92799658646132, -25.50655745016169, 0],\r\n  },\r\n  {\r\n    id: '050',\r\n    name: 'Bangladesh',\r\n    code: '050',\r\n    alpha: 'BGD',\r\n    rotation: [-90.27621847689744, -23.83393894813619, 0],\r\n  },\r\n  {\r\n    id: '112',\r\n    name: 'Belarus',\r\n    code: '112',\r\n    alpha: 'BLR',\r\n    rotation: [-27.965008860252464, -53.495255073551064, 0],\r\n  },\r\n  {\r\n    id: '056',\r\n    name: 'Belgium',\r\n    code: '056',\r\n    alpha: 'BEL',\r\n    rotation: [-4.58769551789543, -50.65259664888061, 0],\r\n  },\r\n  {\r\n    id: '084',\r\n    name: 'Belize',\r\n    code: '084',\r\n    alpha: 'BLZ',\r\n    rotation: [88.70377211871029, -17.194716030802326, 0],\r\n  },\r\n  {\r\n    id: '204',\r\n    name: 'Benin',\r\n    code: '204',\r\n    alpha: 'BEN',\r\n    rotation: [-2.3364468144868233, -9.642634232769627, 0],\r\n  },\r\n  {\r\n    id: '064',\r\n    name: 'Bhutan',\r\n    code: '064',\r\n    alpha: 'BTN',\r\n    rotation: [-90.47334344115623, -27.429566173929985, 0],\r\n  },\r\n  {\r\n    id: '068',\r\n    name: 'Bolivia',\r\n    code: '068',\r\n    alpha: 'BOL',\r\n    rotation: [64.65487502908482, 16.70357561750091, 0],\r\n  },\r\n  {\r\n    id: '070',\r\n    name: 'Bosnia and Herzegovina',\r\n    code: '070',\r\n    alpha: 'BIH',\r\n    rotation: [-17.82291396192673, -44.178812746795224, 0],\r\n  },\r\n  {\r\n    id: '072',\r\n    name: 'Botswana',\r\n    code: '072',\r\n    alpha: 'BWA',\r\n    rotation: [-23.783482523211063, 22.08235596760819, 0],\r\n  },\r\n  {\r\n    id: '076',\r\n    name: 'Brazil',\r\n    code: '076',\r\n    alpha: 'BRA',\r\n    rotation: [53.20470389567, 10.614107668135931, 0],\r\n  },\r\n  {\r\n    id: '096',\r\n    name: 'Brunei Darussalam',\r\n    code: '096',\r\n    alpha: 'BRN',\r\n    rotation: [-114.91510433388343, -4.690137843628553, 0],\r\n  },\r\n  {\r\n    id: '100',\r\n    name: 'Bulgaria',\r\n    code: '100',\r\n    alpha: 'BGR',\r\n    rotation: [-25.187482205219794, -42.75591716333826, 0],\r\n  },\r\n  {\r\n    id: '854',\r\n    name: 'Burkina Faso',\r\n    code: '854',\r\n    alpha: 'BFA',\r\n    rotation: [1.7826913502591513, -12.313133829558398, 0],\r\n  },\r\n  {\r\n    id: '108',\r\n    name: 'Burundi',\r\n    code: '108',\r\n    alpha: 'BDI',\r\n    rotation: [-29.91404544895876, 3.3776882374887323, 0],\r\n  },\r\n  {\r\n    id: '116',\r\n    name: 'Cambodia',\r\n    code: '116',\r\n    alpha: 'KHM',\r\n    rotation: [-104.87404361498115, -12.684905661051465, 0],\r\n  },\r\n  {\r\n    id: '120',\r\n    name: 'Cameroon',\r\n    code: '120',\r\n    alpha: 'CMR',\r\n    rotation: [-12.605418224400575, -5.65301844023122, 0],\r\n  },\r\n  {\r\n    id: '124',\r\n    name: 'Canada',\r\n    code: '124',\r\n    alpha: 'CAN',\r\n    rotation: [96.43009224170632, -60.51217500485933, 0],\r\n  },\r\n  {\r\n    id: '140',\r\n    name: 'Central African Republic',\r\n    code: '140',\r\n    alpha: 'CAF',\r\n    rotation: [-20.36818811064359, -6.547317287072128, 0],\r\n  },\r\n  {\r\n    id: '148',\r\n    name: 'Chad',\r\n    code: '148',\r\n    alpha: 'TCD',\r\n    rotation: [-18.573838404855614, -15.273875108888328, 0],\r\n  },\r\n  {\r\n    id: '152',\r\n    name: 'Chile',\r\n    code: '152',\r\n    alpha: 'CHL',\r\n    rotation: [71.1869730148196, 37.3073357483882, 0],\r\n  },\r\n  {\r\n    id: '156',\r\n    name: 'China',\r\n    code: '156',\r\n    alpha: 'CHN',\r\n    rotation: [-103.44405126430215, -36.59239992549257, 0],\r\n  },\r\n  {\r\n    id: '170',\r\n    name: 'Colombia',\r\n    code: '170',\r\n    alpha: 'COL',\r\n    rotation: [73.07367856954164, -3.915586995728956, 0],\r\n  },\r\n  {\r\n    id: '178',\r\n    name: 'Congo (Brazzaville)',\r\n    code: '178',\r\n    alpha: 'COG',\r\n    rotation: [-15.13636997740768, 0.8365245860947736, 0],\r\n  },\r\n  {\r\n    id: '180',\r\n    name: 'Congo (Kinshasa)',\r\n    code: '180',\r\n    alpha: 'COD',\r\n    rotation: [-23.576043874005837, 2.8380199221138636, 0],\r\n  },\r\n  {\r\n    id: '188',\r\n    name: 'Costa Rica',\r\n    code: '188',\r\n    alpha: 'CRI',\r\n    rotation: [84.173461090358, -9.965861316995731, 0],\r\n  },\r\n  {\r\n    id: '384',\r\n    name: \"Côte d'Ivoire\",\r\n    code: '384',\r\n    alpha: 'CIV',\r\n    rotation: [5.611890723568799, -7.551568803610024, 0],\r\n  },\r\n  {\r\n    id: '191',\r\n    name: 'Croatia',\r\n    code: '191',\r\n    alpha: 'HRV',\r\n    rotation: [-16.567267780913756, -45.009946975255176, 0],\r\n  },\r\n  {\r\n    id: '192',\r\n    name: 'Cuba',\r\n    code: '192',\r\n    alpha: 'CUB',\r\n    rotation: [78.93110738454727, -21.64732927346821, 0],\r\n  },\r\n  {\r\n    id: '196',\r\n    name: 'Cyprus',\r\n    code: '196',\r\n    alpha: 'CYP',\r\n    rotation: [-33.03913076947935, -34.90749197033013, 0],\r\n  },\r\n  {\r\n    id: '203',\r\n    name: 'Czechia',\r\n    code: '203',\r\n    alpha: 'CZE',\r\n    rotation: [-15.342903228440436, -49.779754202713434, 0],\r\n  },\r\n  {\r\n    id: '208',\r\n    name: 'Denmark',\r\n    code: '208',\r\n    alpha: 'DNK',\r\n    rotation: [-9.879220997079036, -56.06407696735443, 0],\r\n  },\r\n  {\r\n    id: '262',\r\n    name: 'Djibouti',\r\n    code: '262',\r\n    alpha: 'DJI',\r\n    rotation: [-42.4972312707027, -11.772802869197555, 0],\r\n  },\r\n  {\r\n    id: '214',\r\n    name: 'Dominican Republic',\r\n    code: '214',\r\n    alpha: 'DOM',\r\n    rotation: [70.46189260994564, -18.885432213958328, 0],\r\n  },\r\n  {\r\n    id: '218',\r\n    name: 'Ecuador',\r\n    code: '218',\r\n    alpha: 'ECU',\r\n    rotation: [78.38372877694883, 1.454346054006699, 0],\r\n  },\r\n  {\r\n    id: '818',\r\n    name: 'Egypt',\r\n    code: '818',\r\n    alpha: 'EGY',\r\n    rotation: [-29.860930627906594, -26.476207533432994, 0],\r\n  },\r\n  {\r\n    id: '222',\r\n    name: 'El Salvador',\r\n    code: '222',\r\n    alpha: 'SLV',\r\n    rotation: [88.87191352647721, -13.726211621635365, 0],\r\n  },\r\n  {\r\n    id: '226',\r\n    name: 'Equatorial Guinea',\r\n    code: '226',\r\n    alpha: 'GNQ',\r\n    rotation: [-10.365684413796739, -1.6463543998012733, 0],\r\n  },\r\n  {\r\n    id: '232',\r\n    name: 'Eritrea',\r\n    code: '232',\r\n    alpha: 'ERI',\r\n    rotation: [-38.68781198694466, -15.427722969062797, 0],\r\n  },\r\n  {\r\n    id: '233',\r\n    name: 'Estonia',\r\n    code: '233',\r\n    alpha: 'EST',\r\n    rotation: [-25.830574468662125, -58.64139309119214, 0],\r\n  },\r\n  {\r\n    id: '748',\r\n    name: 'Eswatini',\r\n    code: '748',\r\n    alpha: 'SWZ',\r\n    rotation: [-31.395057635457164, 26.489608223170514, 0],\r\n  },\r\n  {\r\n    id: '231',\r\n    name: 'Ethiopia',\r\n    code: '231',\r\n    alpha: 'ETH',\r\n    rotation: [-39.558085099280234, -8.645960770769902, 0],\r\n  },\r\n  {\r\n    id: '238',\r\n    name: 'Falkland Islands (Malvinas)',\r\n    code: '238',\r\n    alpha: 'FLK',\r\n    rotation: [59.416338022507546, 51.71851054114084, 0],\r\n  },\r\n  {\r\n    id: '242',\r\n    name: 'Fiji',\r\n    code: '242',\r\n    alpha: 'FJI',\r\n    rotation: [-178.56888600245205, 17.315088098745157, 0],\r\n  },\r\n  {\r\n    id: '246',\r\n    name: 'Finland',\r\n    code: '246',\r\n    alpha: 'FIN',\r\n    rotation: [-26.141955294462097, -64.26000935558966, 0],\r\n  },\r\n  {\r\n    id: '250',\r\n    name: 'France',\r\n    code: '250',\r\n    alpha: 'FRA',\r\n    rotation: [2.430943316945423, -44.87701792097157, 0],\r\n  },\r\n  {\r\n    id: '260',\r\n    name: 'French Southern Territories',\r\n    code: '260',\r\n    alpha: 'ATF',\r\n    rotation: [-69.53842603547753, 49.310364522004285, 0],\r\n  },\r\n  {\r\n    id: '266',\r\n    name: 'Gabon',\r\n    code: '266',\r\n    alpha: 'GAB',\r\n    rotation: [-11.68730858621086, 0.6468534053196217, 0],\r\n  },\r\n  {\r\n    id: '270',\r\n    name: 'Gambia',\r\n    code: '270',\r\n    alpha: 'GMB',\r\n    rotation: [15.432662416130261, -13.476743076600865, 0],\r\n  },\r\n  {\r\n    id: '268',\r\n    name: 'Georgia',\r\n    code: '268',\r\n    alpha: 'GEO',\r\n    rotation: [-43.499163445994405, -42.16786732987325, 0],\r\n  },\r\n  {\r\n    id: '276',\r\n    name: 'Germany',\r\n    code: '276',\r\n    alpha: 'DEU',\r\n    rotation: [-10.270361729415326, -51.07748861508455, 0],\r\n  },\r\n  {\r\n    id: '288',\r\n    name: 'Ghana',\r\n    code: '288',\r\n    alpha: 'GHA',\r\n    rotation: [1.2370189790987784, -7.923427418922669, 0],\r\n  },\r\n  {\r\n    id: '300',\r\n    name: 'Greece',\r\n    code: '300',\r\n    alpha: 'GRC',\r\n    rotation: [-22.719383152524127, -39.03716562230882, 0],\r\n  },\r\n  {\r\n    id: '304',\r\n    name: 'Greenland',\r\n    code: '304',\r\n    alpha: 'GRL',\r\n    rotation: [41.952641204223376, -73.1548769668079, 0],\r\n  },\r\n  {\r\n    id: '320',\r\n    name: 'Guatemala',\r\n    code: '320',\r\n    alpha: 'GTM',\r\n    rotation: [90.37168864431867, -15.69601828949613, 0],\r\n  },\r\n  {\r\n    id: '324',\r\n    name: 'Guinea',\r\n    code: '324',\r\n    alpha: 'GIN',\r\n    rotation: [11.055107771555903, -10.450179492406182, 0],\r\n  },\r\n  {\r\n    id: '624',\r\n    name: 'Guinea-Bissau',\r\n    code: '624',\r\n    alpha: 'GNB',\r\n    rotation: [15.11040550808911, -12.02401749676372, 0],\r\n  },\r\n  {\r\n    id: '328',\r\n    name: 'Guyana',\r\n    code: '328',\r\n    alpha: 'GUY',\r\n    rotation: [58.9693913176755, -4.7861289179067255, 0],\r\n  },\r\n  {\r\n    id: '332',\r\n    name: 'Haiti',\r\n    code: '332',\r\n    alpha: 'HTI',\r\n    rotation: [72.6590204187346, -18.900271564403013, 0],\r\n  },\r\n  {\r\n    id: '340',\r\n    name: 'Honduras',\r\n    code: '340',\r\n    alpha: 'HND',\r\n    rotation: [86.59292724556319, -14.825102285637234, 0],\r\n  },\r\n  {\r\n    id: '348',\r\n    name: 'Hungary',\r\n    code: '348',\r\n    alpha: 'HUN',\r\n    rotation: [-19.343021768998867, -47.20351744682363, 0],\r\n  },\r\n  {\r\n    id: '352',\r\n    name: 'Iceland',\r\n    code: '352',\r\n    alpha: 'ISL',\r\n    rotation: [18.765055507794624, -65.07978438839723, 0],\r\n  },\r\n  {\r\n    id: '356',\r\n    name: 'India',\r\n    code: '356',\r\n    alpha: 'IND',\r\n    rotation: [-79.52070973778507, -22.820572085944626, 0],\r\n  },\r\n  {\r\n    id: '360',\r\n    name: 'Indonesia',\r\n    code: '360',\r\n    alpha: 'IDN',\r\n    rotation: [-117.41132690425994, 2.275438905772212, 0],\r\n  },\r\n  {\r\n    id: '364',\r\n    name: 'Iran',\r\n    code: '364',\r\n    alpha: 'IRN',\r\n    rotation: [-54.45434763573768, -32.47393979943816, 0],\r\n  },\r\n  {\r\n    id: '368',\r\n    name: 'Iraq',\r\n    code: '368',\r\n    alpha: 'IRQ',\r\n    rotation: [-43.78685567619944, -33.009884593512375, 0],\r\n  },\r\n  {\r\n    id: '372',\r\n    name: 'Ireland',\r\n    code: '372',\r\n    alpha: 'IRL',\r\n    rotation: [8.016982216398807, -53.17178917560689, 0],\r\n  },\r\n  {\r\n    id: '376',\r\n    name: 'Israel',\r\n    code: '376',\r\n    alpha: 'ISR',\r\n    rotation: [-35.000976092000855, -31.479101605192774, 0],\r\n  },\r\n  {\r\n    id: '380',\r\n    name: 'Italy',\r\n    code: '380',\r\n    alpha: 'ITA',\r\n    rotation: [-12.268171635597179, -42.67232636084266, 0],\r\n  },\r\n  {\r\n    id: '388',\r\n    name: 'Jamaica',\r\n    code: '388',\r\n    alpha: 'JAM',\r\n    rotation: [77.3242854613411, -18.138350019435617, 0],\r\n  },\r\n  {\r\n    id: '392',\r\n    name: 'Japan',\r\n    code: '392',\r\n    alpha: 'JPN',\r\n    rotation: [-137.71159857789849, -37.53138892822192, 0],\r\n  },\r\n  {\r\n    id: '400',\r\n    name: 'Jordan',\r\n    code: '400',\r\n    alpha: 'JOR',\r\n    rotation: [-36.76625051859275, -31.240155703586726, 0],\r\n  },\r\n  {\r\n    id: '398',\r\n    name: 'Kazakhstan',\r\n    code: '398',\r\n    alpha: 'KAZ',\r\n    rotation: [-67.25205431841346, -48.407643194395, 0],\r\n  },\r\n  {\r\n    id: '404',\r\n    name: 'Kenya',\r\n    code: '404',\r\n    alpha: 'KEN',\r\n    rotation: [-37.79142111605709, -0.5957833130207195, 0],\r\n  },\r\n  {\r\n    id: '408',\r\n    name: 'North Korea',\r\n    code: '408',\r\n    alpha: 'PRK',\r\n    rotation: [-127.13064038428509, -40.12960229356915, 0],\r\n  },\r\n  {\r\n    id: '410',\r\n    name: 'South Korea',\r\n    code: '410',\r\n    alpha: 'KOR',\r\n    rotation: [-127.81993928874314, -36.41865392621163, 0],\r\n  },\r\n  {\r\n    id: '414',\r\n    name: 'Kuwait',\r\n    code: '414',\r\n    alpha: 'KWT',\r\n    rotation: [-47.60084909736431, -29.307174280057836, 0],\r\n  },\r\n  {\r\n    id: '417',\r\n    name: 'Kyrgyzstan',\r\n    code: '417',\r\n    alpha: 'KGZ',\r\n    rotation: [-74.58708130034088, -41.51880491713066, 0],\r\n  },\r\n  {\r\n    id: '418',\r\n    name: \"Lao People's Democratic Republic\",\r\n    code: '418',\r\n    alpha: 'LAO',\r\n    rotation: [-103.78641245753563, -18.431834399928572, 0],\r\n  },\r\n  {\r\n    id: '428',\r\n    name: 'Latvia',\r\n    code: '428',\r\n    alpha: 'LVA',\r\n    rotation: [-24.83945912847866, -56.81728983019941, 0],\r\n  },\r\n  {\r\n    id: '422',\r\n    name: 'Lebanon',\r\n    code: '422',\r\n    alpha: 'LBN',\r\n    rotation: [-35.86844078165633, -33.910209079182685, 0],\r\n  },\r\n  {\r\n    id: '426',\r\n    name: 'Lesotho',\r\n    code: '426',\r\n    alpha: 'LSO',\r\n    rotation: [-28.17156443428305, 29.624633602530636, 0],\r\n  },\r\n  {\r\n    id: '430',\r\n    name: 'Liberia',\r\n    code: '430',\r\n    alpha: 'LBR',\r\n    rotation: [9.408652276377497, -6.4303183369395205, 0],\r\n  },\r\n  {\r\n    id: '434',\r\n    name: 'Libya',\r\n    code: '434',\r\n    alpha: 'LBY',\r\n    rotation: [-18.029023727670854, -26.990627550022335, 0],\r\n  },\r\n  {\r\n    id: '440',\r\n    name: 'Lithuania',\r\n    code: '440',\r\n    alpha: 'LTU',\r\n    rotation: [-23.88816230878215, -55.282751947502675, 0],\r\n  },\r\n  {\r\n    id: '442',\r\n    name: 'Luxembourg',\r\n    code: '442',\r\n    alpha: 'LUX',\r\n    rotation: [-5.966117423182868, -49.76493264193623, 0],\r\n  },\r\n  {\r\n    id: '450',\r\n    name: 'Madagascar',\r\n    code: '450',\r\n    alpha: 'MDG',\r\n    rotation: [-46.728637170590396, 19.301864097083307, 0],\r\n  },\r\n  {\r\n    id: '454',\r\n    name: 'Malawi',\r\n    code: '454',\r\n    alpha: 'MWI',\r\n    rotation: [-34.18595812590279, 13.159411625795903, 0],\r\n  },\r\n  {\r\n    id: '458',\r\n    name: 'Malaysia',\r\n    code: '458',\r\n    alpha: 'MYS',\r\n    rotation: [-109.71431950744771, -3.7417179365796795, 0],\r\n  },\r\n  {\r\n    id: '466',\r\n    name: 'Mali',\r\n    code: '466',\r\n    alpha: 'MLI',\r\n    rotation: [3.590764770959026, -17.240456956989522, 0],\r\n  },\r\n  {\r\n    id: '478',\r\n    name: 'Mauritania',\r\n    code: '478',\r\n    alpha: 'MRT',\r\n    rotation: [10.34978112924035, -20.17906433638354, 0],\r\n  },\r\n  {\r\n    id: '484',\r\n    name: 'Mexico',\r\n    code: '484',\r\n    alpha: 'MEX',\r\n    rotation: [102.23690953147484, -23.91875711815228, 0],\r\n  },\r\n  {\r\n    id: '498',\r\n    name: 'Moldova',\r\n    code: '498',\r\n    alpha: 'MDA',\r\n    rotation: [-28.41975140300746, -47.19637237819779, 0],\r\n  },\r\n  {\r\n    id: '496',\r\n    name: 'Mongolia',\r\n    code: '496',\r\n    alpha: 'MNG',\r\n    rotation: [-103.01753766931556, -46.951746940751974, 0],\r\n  },\r\n  {\r\n    id: '499',\r\n    name: 'Montenegro',\r\n    code: '499',\r\n    alpha: 'MNE',\r\n    rotation: [-19.285440576395175, -42.787805732291886, 0],\r\n  },\r\n  {\r\n    id: '504',\r\n    name: 'Morocco',\r\n    code: '504',\r\n    alpha: 'MAR',\r\n    rotation: [8.686540295093572, -29.82256001211104, 0],\r\n  },\r\n  {\r\n    id: '508',\r\n    name: 'Mozambique',\r\n    code: '508',\r\n    alpha: 'MOZ',\r\n    rotation: [-35.543210425288166, 17.149800293826292, 0],\r\n  },\r\n  {\r\n    id: '104',\r\n    name: 'Myanmar',\r\n    code: '104',\r\n    alpha: 'MMR',\r\n    rotation: [-96.51155505396662, -20.947997630730196, 0],\r\n  },\r\n  {\r\n    id: '516',\r\n    name: 'Namibia',\r\n    code: '516',\r\n    alpha: 'NAM',\r\n    rotation: [-17.14137203718194, 22.040053878443935, 0],\r\n  },\r\n  {\r\n    id: '524',\r\n    name: 'Nepal',\r\n    code: '524',\r\n    alpha: 'NPL',\r\n    rotation: [-84.04326018348499, -28.24898907008442, 0],\r\n  },\r\n  {\r\n    id: '528',\r\n    name: 'Netherlands',\r\n    code: '528',\r\n    alpha: 'NLD',\r\n    rotation: [-5.499915332002171, -52.292873936311146, 0],\r\n  },\r\n  {\r\n    id: '540',\r\n    name: 'New Caledonia',\r\n    code: '540',\r\n    alpha: 'NCL',\r\n    rotation: [-165.52837343546187, 21.260950352557103, 0],\r\n  },\r\n  {\r\n    id: '554',\r\n    name: 'New Zealand',\r\n    code: '554',\r\n    alpha: 'NZL',\r\n    rotation: [-172.94818742642852, 41.555999959925, 0],\r\n  },\r\n  {\r\n    id: '558',\r\n    name: 'Nicaragua',\r\n    code: '558',\r\n    alpha: 'NIC',\r\n    rotation: [85.01381974958862, -12.841223676457057, 0],\r\n  },\r\n  {\r\n    id: '562',\r\n    name: 'Niger',\r\n    code: '562',\r\n    alpha: 'NER',\r\n    rotation: [-9.276683378529787, -17.340510383825276, 0],\r\n  },\r\n  {\r\n    id: '566',\r\n    name: 'Nigeria',\r\n    code: '566',\r\n    alpha: 'NGA',\r\n    rotation: [-7.9855228241158205, -9.544519528180315, 0],\r\n  },\r\n  {\r\n    id: '807',\r\n    name: 'North Macedonia',\r\n    code: '807',\r\n    alpha: 'MKD',\r\n    rotation: [-21.696131192403985, -41.605756284009196, 0],\r\n  },\r\n  {\r\n    id: '578',\r\n    name: 'Norway',\r\n    code: '578',\r\n    alpha: 'NOR',\r\n    rotation: [-12.823895490801519, -66.60930932857671, 0],\r\n  },\r\n  {\r\n    id: '512',\r\n    name: 'Oman',\r\n    code: '512',\r\n    alpha: 'OMN',\r\n    rotation: [-56.06837488344796, -20.591774475800523, 0],\r\n  },\r\n  {\r\n    id: '586',\r\n    name: 'Pakistan',\r\n    code: '586',\r\n    alpha: 'PAK',\r\n    rotation: [-69.23375329023123, -29.905586996928065, 0],\r\n  },\r\n  {\r\n    id: '275',\r\n    name: 'Palestine',\r\n    code: '275',\r\n    alpha: 'PSE',\r\n    rotation: [-35.27278786386276, -31.93982371854114, 0],\r\n  },\r\n  {\r\n    id: '591',\r\n    name: 'Panama',\r\n    code: '591',\r\n    alpha: 'PAN',\r\n    rotation: [80.1092993915076, -8.532627651792009, 0],\r\n  },\r\n  {\r\n    id: '598',\r\n    name: 'Papua New Guinea',\r\n    code: '598',\r\n    alpha: 'PNG',\r\n    rotation: [-145.3090380650128, 6.458005750140304, 0],\r\n  },\r\n  {\r\n    id: '600',\r\n    name: 'Paraguay',\r\n    code: '600',\r\n    alpha: 'PRY',\r\n    rotation: [58.43177624344469, 23.22945275010426, 0],\r\n  },\r\n  {\r\n    id: '604',\r\n    name: 'Peru',\r\n    code: '604',\r\n    alpha: 'PER',\r\n    rotation: [74.43399386104991, 9.14317969556689, 0],\r\n  },\r\n  {\r\n    id: '608',\r\n    name: 'Philippines',\r\n    code: '608',\r\n    alpha: 'PHL',\r\n    rotation: [-122.83120349977337, -11.792276903490155, 0],\r\n  },\r\n  {\r\n    id: '616',\r\n    name: 'Poland',\r\n    code: '616',\r\n    alpha: 'POL',\r\n    rotation: [-19.343761889362877, -52.134071581669645, 0],\r\n  },\r\n  {\r\n    id: '620',\r\n    name: 'Portugal',\r\n    code: '620',\r\n    alpha: 'PRT',\r\n    rotation: [8.061118131977329, -39.607265457615185, 0],\r\n  },\r\n  {\r\n    id: '630',\r\n    name: 'Puerto Rico',\r\n    code: '630',\r\n    alpha: 'PRI',\r\n    rotation: [66.47905706575176, -18.238007978177734, 0],\r\n  },\r\n  {\r\n    id: '634',\r\n    name: 'Qatar',\r\n    code: '634',\r\n    alpha: 'QAT',\r\n    rotation: [-51.18384513080223, -25.32098345171296, 0],\r\n  },\r\n  {\r\n    id: '642',\r\n    name: 'Romania',\r\n    code: '642',\r\n    alpha: 'ROU',\r\n    rotation: [-24.954003986521663, -45.853419892533914, 0],\r\n  },\r\n  {\r\n    id: '643',\r\n    name: 'Russian Federation',\r\n    code: '643',\r\n    alpha: 'RUS',\r\n    rotation: [-94.087044206798, -65.96861631191982, 0],\r\n  },\r\n  {\r\n    id: '646',\r\n    name: 'Rwanda',\r\n    code: '646',\r\n    alpha: 'RWA',\r\n    rotation: [-29.918681417855325, 2.0137053302716854, 0],\r\n  },\r\n  {\r\n    id: '682',\r\n    name: 'Saudi Arabia',\r\n    code: '682',\r\n    alpha: 'SAU',\r\n    rotation: [-44.63992703437384, -24.088397190967818, 0],\r\n  },\r\n  {\r\n    id: '686',\r\n    name: 'Senegal',\r\n    code: '686',\r\n    alpha: 'SEN',\r\n    rotation: [14.505995809819991, -14.35369629728755, 0],\r\n  },\r\n  {\r\n    id: '688',\r\n    name: 'Serbia',\r\n    code: '688',\r\n    alpha: 'SRB',\r\n    rotation: [-20.836940835503505, -44.22323402233754, 0],\r\n  },\r\n  {\r\n    id: '694',\r\n    name: 'Sierra Leone',\r\n    code: '694',\r\n    alpha: 'SLE',\r\n    rotation: [11.795382606029952, -8.529900173089592, 0],\r\n  },\r\n  {\r\n    id: '703',\r\n    name: 'Slovakia',\r\n    code: '703',\r\n    alpha: 'SVK',\r\n    rotation: [-19.497476687039562, -48.733265094688676, 0],\r\n  },\r\n  {\r\n    id: '705',\r\n    name: 'Slovenia',\r\n    code: '705',\r\n    alpha: 'SVN',\r\n    rotation: [-14.934221684631295, -46.125912369675504, 0],\r\n  },\r\n  {\r\n    id: '090',\r\n    name: 'Solomon Islands',\r\n    code: '090',\r\n    alpha: 'SLB',\r\n    rotation: [-159.959911807289, 8.852546852028727, 0],\r\n  },\r\n  {\r\n    id: '706',\r\n    name: 'Somalia',\r\n    code: '706',\r\n    alpha: 'SOM',\r\n    rotation: [-45.69864512605874, -4.739350653208296, 0],\r\n  },\r\n  {\r\n    id: '710',\r\n    name: 'South Africa',\r\n    code: '710',\r\n    alpha: 'ZAF',\r\n    rotation: [-25.15889938829719, 28.923896813816622, 0],\r\n  },\r\n  {\r\n    id: '728',\r\n    name: 'South Sudan',\r\n    code: '728',\r\n    alpha: 'SSD',\r\n    rotation: [-30.202414512881077, -7.2926255895641905, 0],\r\n  },\r\n  {\r\n    id: '724',\r\n    name: 'Spain',\r\n    code: '724',\r\n    alpha: 'ESP',\r\n    rotation: [3.624174217494734, -40.32054802154367, 0],\r\n  },\r\n  {\r\n    id: '144',\r\n    name: 'Sri Lanka',\r\n    code: '144',\r\n    alpha: 'LKA',\r\n    rotation: [-80.66793250580407, -7.699468623290997, 0],\r\n  },\r\n  {\r\n    id: '729',\r\n    name: 'Sudan',\r\n    code: '729',\r\n    alpha: 'SDN',\r\n    rotation: [-29.831128509895628, -15.971504744113505, 0],\r\n  },\r\n  {\r\n    id: '740',\r\n    name: 'Suriname',\r\n    code: '740',\r\n    alpha: 'SUR',\r\n    rotation: [55.91147094523377, -4.119683196376136, 0],\r\n  },\r\n  {\r\n    id: '752',\r\n    name: 'Sweden',\r\n    code: '752',\r\n    alpha: 'SWE',\r\n    rotation: [-16.108461439092967, -62.41889604172381, 0],\r\n  },\r\n  {\r\n    id: '756',\r\n    name: 'Switzerland',\r\n    code: '756',\r\n    alpha: 'CHE',\r\n    rotation: [-8.115754133241357, -46.79281999539392, 0],\r\n  },\r\n  {\r\n    id: '760',\r\n    name: 'Syrian Arab Republic',\r\n    code: '760',\r\n    alpha: 'SYR',\r\n    rotation: [-38.523373770657976, -35.00858897258602, 0],\r\n  },\r\n  {\r\n    id: '158',\r\n    name: 'Taiwan, Province of China',\r\n    code: '158',\r\n    alpha: 'TWN',\r\n    rotation: [-120.97154278359325, -23.73902855564177, 0],\r\n  },\r\n  {\r\n    id: '762',\r\n    name: 'Tajikistan',\r\n    code: '762',\r\n    alpha: 'TJK',\r\n    rotation: [-71.04762395529823, -38.58916440592645, 0],\r\n  },\r\n  {\r\n    id: '834',\r\n    name: 'Tanzania',\r\n    code: '834',\r\n    alpha: 'TZA',\r\n    rotation: [-34.74137622450326, 6.250693680328514, 0],\r\n  },\r\n  {\r\n    id: '764',\r\n    name: 'Thailand',\r\n    code: '764',\r\n    alpha: 'THA',\r\n    rotation: [-101.00353148837137, -14.98645862445622, 0],\r\n  },\r\n  {\r\n    id: '626',\r\n    name: 'Timor-Leste',\r\n    code: '626',\r\n    alpha: 'TLS',\r\n    rotation: [-125.96732524646518, 8.767880394041605, 0],\r\n  },\r\n  {\r\n    id: '768',\r\n    name: 'Togo',\r\n    code: '768',\r\n    alpha: 'TGO',\r\n    rotation: [-0.9981338496907552, -8.43462165603615, 0],\r\n  },\r\n  {\r\n    id: '780',\r\n    name: 'Trinidad and Tobago',\r\n    code: '780',\r\n    alpha: 'TTO',\r\n    rotation: [61.331497188795005, -10.426835534174899, 0],\r\n  },\r\n  {\r\n    id: '788',\r\n    name: 'Tunisia',\r\n    code: '788',\r\n    alpha: 'TUN',\r\n    rotation: [-9.526029438045365, -34.13998156954238, 0],\r\n  },\r\n  {\r\n    id: '792',\r\n    name: 'Turkey',\r\n    code: '792',\r\n    alpha: 'TUR',\r\n    rotation: [-35.11666417495571, -39.14473569679425, 0],\r\n  },\r\n  {\r\n    id: '795',\r\n    name: 'Turkmenistan',\r\n    code: '795',\r\n    alpha: 'TKM',\r\n    rotation: [-59.34846655811917, -39.10239111004134, 0],\r\n  },\r\n  {\r\n    id: '800',\r\n    name: 'Uganda',\r\n    code: '800',\r\n    alpha: 'UGA',\r\n    rotation: [-32.35745069062437, -1.2951656247210654, 0],\r\n  },\r\n  {\r\n    id: '804',\r\n    name: 'Ukraine',\r\n    code: '804',\r\n    alpha: 'UKR',\r\n    rotation: [-31.226103901762748, -49.192068579611544, 0],\r\n  },\r\n  {\r\n    id: '784',\r\n    name: 'United Arab Emirates',\r\n    code: '784',\r\n    alpha: 'ARE',\r\n    rotation: [-54.20053336564968, -23.871035397300446, 0],\r\n  },\r\n  {\r\n    id: '826',\r\n    name: 'United Kingdom',\r\n    code: '826',\r\n    alpha: 'GBR',\r\n    rotation: [2.759337491447725, -53.80795452523584, 0],\r\n  },\r\n  {\r\n    id: '840',\r\n    name: 'United States',\r\n    code: '840',\r\n    alpha: 'USA',\r\n    rotation: [103.07726750245504, -44.265946463993416, 0],\r\n  },\r\n  {\r\n    id: '858',\r\n    name: 'Uruguay',\r\n    code: '858',\r\n    alpha: 'URY',\r\n    rotation: [56.00987366274323, 32.773822535745516, 0],\r\n  },\r\n  {\r\n    id: '860',\r\n    name: 'Uzbekistan',\r\n    code: '860',\r\n    alpha: 'UZB',\r\n    rotation: [-63.36626349772478, -41.77054620621317, 0],\r\n  },\r\n  {\r\n    id: '548',\r\n    name: 'Vanuatu',\r\n    code: '548',\r\n    alpha: 'VUT',\r\n    rotation: [-167.07293522702983, 15.542276766821908, 0],\r\n  },\r\n  {\r\n    id: '862',\r\n    name: 'Venezuela',\r\n    code: '862',\r\n    alpha: 'VEN',\r\n    rotation: [66.1519552921325, -7.1608066883959305, 0],\r\n  },\r\n  {\r\n    id: '704',\r\n    name: 'Viet Nam',\r\n    code: '704',\r\n    alpha: 'VNM',\r\n    rotation: [-106.33524325103325, -16.555878851250384, 0],\r\n  },\r\n  {\r\n    id: '732',\r\n    name: 'Western Sahara',\r\n    code: '732',\r\n    alpha: 'ESH',\r\n    rotation: [12.185141270332377, -24.279348242509098, 0],\r\n  },\r\n  {\r\n    id: '887',\r\n    name: 'Yemen',\r\n    code: '887',\r\n    alpha: 'YEM',\r\n    rotation: [-47.51465509977352, -15.921867835666074, 0],\r\n  },\r\n  {\r\n    id: '894',\r\n    name: 'Zambia',\r\n    code: '894',\r\n    alpha: 'ZMB',\r\n    rotation: [-27.761673282094918, 13.393507499986981, 0],\r\n  },\r\n  {\r\n    id: '716',\r\n    name: 'Zimbabwe',\r\n    code: '716',\r\n    alpha: 'ZWE',\r\n    rotation: [-29.788632869529476, 18.90029018585228, 0],\r\n  },\r\n  {\r\n    id: '926',\r\n    name: 'Kosovo',\r\n    code: '926',\r\n    alpha: 'XXK',\r\n    rotation: [-20.89599084801404, -42.57896063827273, 0],\r\n  },\r\n  {\r\n    id: '900',\r\n    name: 'Somaliland',\r\n    code: '900',\r\n    alpha: 'SXX',\r\n    rotation: [-46.23195329762493, -9.761176191425703, 0],\r\n  },\r\n  {\r\n    id: '977',\r\n    name: 'Northern Cyprus',\r\n    code: '977',\r\n    alpha: 'NCY',\r\n    rotation: [-33.557026481400776, -35.274767914204794, 0],\r\n  },\r\n];\r\n","import { sample } from 'lodash';\r\nimport { countries } from './countries';\r\n\r\nexport const initialState = {\r\n  id: '616',\r\n  name: 'Poland',\r\n  code: '616',\r\n  alpha: 'POL',\r\n  rotation: [-19.343761889362877, -52.134071581669645, 0],\r\n};\r\n\r\nexport const getCountryById = id => {\r\n  return countries.find((country) => country.id === id);\r\n}\r\n\r\nexport const getRandomCountry = () => {\r\n  return sample(countries);\r\n}\r\n","import React, { useEffect, useRef, useMemo } from 'react';\r\nimport { geoPath, geoOrthographic, select, drag, zoom } from 'd3';\r\nimport { Tooltip } from '@material-ui/core';\r\nimport clsx from 'clsx';\r\n\r\nimport { useStyles } from './globe-styles';\r\nimport { useGeoJsonData } from './useGeoJsonData';\r\nimport { LoadingSpinner } from '../LoadingSpinner';\r\nimport {\r\n  throttledRotateProjectionBy,\r\n  throttledZoomProjectionBy,\r\n  rotateProjectionTo,\r\n} from './globe-transformations';\r\nimport {\r\n  WidgetNavigation,\r\n  WidgetRandomCountry,\r\n  Widgets,\r\n  WidgetZoom,\r\n} from '../widgets';\r\nimport KEY_, { PLUS_MINUS_KEYS, ARROW_KEYS } from '../../utils/keyCodes';\r\nimport { getCountryById } from '../../utils';\r\n\r\nexport const Globe = ({\r\n  /* Initial values */\r\n  width = 600,\r\n  height = 600,\r\n  initialRotation = [0, -30],\r\n  initialScale = 250,\r\n  maxScale = 4594.79,\r\n  minScale = 94.73,\r\n  maxScroll = 20,\r\n  minScroll = 0.3,\r\n  zoomInValue = 1.1487,\r\n  zoomOutValue = 0.87055,\r\n  sensitivity = 75,\r\n  rotationValue = 5,\r\n  rotation,\r\n  selectedCountry,\r\n  onCountryClick,\r\n  onRandomCountryClick,\r\n  showWidgets,\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  // Refs\r\n  const svgRef = useRef(null);\r\n\r\n  // Projection\r\n  // useMemo is important here because we want to create a projection only once\r\n  const projection = useMemo(\r\n    () =>\r\n      geoOrthographic()\r\n        .scale(initialScale)\r\n        .center([0, 0])\r\n        .rotate(initialRotation)\r\n        .translate([width / 2, height / 2]),\r\n    [width, height, initialRotation, initialScale]\r\n  );\r\n  const path = geoPath().projection(projection);\r\n\r\n  // Get GeoJson data\r\n  const [{ data, isLoading }] = useGeoJsonData();\r\n\r\n  /**\r\n   * Initial globe set up.\r\n   *\r\n   * Draws the globe and using d3 attaches drag and zoom event handlers.\r\n   *\r\n   * Additionaly, watches 'width' prop to update whenever window's width\r\n   * changes.\r\n   */\r\n  useEffect(() => {\r\n    if (!data.features.length) return;\r\n\r\n    // Selectors\r\n    const svg = select(svgRef.current);\r\n    const globeCircle = svg.select('circle');\r\n    const countryPaths = svg.selectAll(`path`);\r\n\r\n    // Drag\r\n    const dragBehaviour = drag().on('drag', (event) => {\r\n      const rotate = projection.rotate();\r\n      const k = sensitivity / projection.scale();\r\n\r\n      // Update projection\r\n      projection.rotate([rotate[0] + event.dx * k, rotate[1] - event.dy * k]);\r\n      path.projection(projection);\r\n      countryPaths.attr('d', path);\r\n    });\r\n\r\n    // Zoom\r\n    const zoomBehaviour = zoom().on('zoom', (event) => {\r\n      const scrollValue = event.transform.k;\r\n\r\n      // Reached max/min zoom\r\n      if (scrollValue >= maxScroll) event.transform.k = maxScroll;\r\n      if (scrollValue <= minScroll) event.transform.k = minScroll;\r\n      else {\r\n        // Update projection\r\n        projection.scale(initialScale * event.transform.k);\r\n\r\n        // Update path generator with new projection\r\n        path.projection(projection);\r\n\r\n        // Update selectors\r\n        countryPaths.attr('d', path);\r\n        globeCircle.attr('r', projection.scale());\r\n      }\r\n    });\r\n\r\n    // Apply scroll and drag behaviour\r\n    svg.call(dragBehaviour).call(zoomBehaviour);\r\n\r\n    // Update country paths\r\n    countryPaths.data(data.features).join('path').attr('d', path);\r\n    globeCircle.attr('r', projection.scale());\r\n  }, [\r\n    width,\r\n    data,\r\n    path,\r\n    projection,\r\n    initialScale,\r\n    minScroll,\r\n    maxScroll,\r\n    sensitivity,\r\n  ]);\r\n\r\n  /**\r\n   * Watch rotation and prop and smoothly (using rotateProjactionTo)\r\n   * update the rotation.\r\n   *\r\n   */\r\n  useEffect(() => {\r\n    const countryPaths = select(svgRef.current).selectAll('path');\r\n\r\n    rotateProjectionTo({\r\n      selection: countryPaths,\r\n      projection,\r\n      path,\r\n      rotation,\r\n    });\r\n  }, [rotation, path, projection]);\r\n\r\n  /**\r\n   * Add key down event listener to the window object.\r\n   *\r\n   * - ctrl + arrows keys - to ratate the globe\r\n   * - (NOT ctrl*) + plus/minus keys - to zoom in/out\r\n   *   * Make sure that ctrl key is not pressed to prevent colliding with\r\n   *     native browser shortcuts\r\n   *\r\n   *\r\n   */\r\n  useEffect(() => {\r\n    const handleKeyDown = ({ which, keyCode, ctrlKey }) => {\r\n      const pressedKey = which || keyCode;\r\n\r\n      const svg = select(svgRef.current);\r\n      const countryPaths = svg.selectAll(`path`);\r\n      const globeCircle = svg.select('circle');\r\n\r\n      // CTRL + ARROW KEYS used to rotate the globe\r\n      if (ctrlKey && ARROW_KEYS.includes(pressedKey)) {\r\n        let x = 0,\r\n          y = 0,\r\n          z = 0;\r\n\r\n        if (pressedKey === KEY_.UP) y = rotationValue;\r\n        if (pressedKey === KEY_.DOWN) y = -rotationValue;\r\n        if (pressedKey === KEY_.LEFT) x = -rotationValue;\r\n        if (pressedKey === KEY_.RIGHT) x = rotationValue;\r\n\r\n        throttledRotateProjectionBy({\r\n          selection: countryPaths,\r\n          path,\r\n          projection,\r\n          rotation: [x, y, z],\r\n        });\r\n      }\r\n\r\n      // PLUS / MINUS used for zooming\r\n      if (!ctrlKey && PLUS_MINUS_KEYS.includes(pressedKey)) {\r\n        let zoomValue;\r\n\r\n        if (pressedKey === KEY_.PLUS || pressedKey === KEY_.NUM_PLUS)\r\n          zoomValue = zoomInValue;\r\n        if (pressedKey === KEY_.MINUS || pressedKey === KEY_.NUM_MINUS)\r\n          zoomValue = zoomOutValue;\r\n\r\n        throttledZoomProjectionBy({\r\n          selection: countryPaths,\r\n          circle: globeCircle,\r\n          path,\r\n          projection,\r\n          maxScale,\r\n          minScale,\r\n          zoomValue,\r\n        });\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [\r\n    projection,\r\n    path,\r\n    minScale,\r\n    maxScale,\r\n    zoomInValue,\r\n    zoomOutValue,\r\n    rotationValue,\r\n  ]);\r\n\r\n  /**\r\n   * Zoom Widget click\r\n   *\r\n   */\r\n  const handleZoomClick = ({ currentTarget: { id } }) => {\r\n    const svg = select(svgRef.current);\r\n    const countryPaths = svg.selectAll(`path`);\r\n    const globeCircle = svg.select('circle');\r\n\r\n    let zoomValue;\r\n    if (id === 'widget-zoom-in') zoomValue = zoomInValue;\r\n    if (id === 'widget-zoom-out') zoomValue = zoomOutValue;\r\n\r\n    throttledZoomProjectionBy({\r\n      selection: countryPaths,\r\n      circle: globeCircle,\r\n      path,\r\n      projection,\r\n      maxScale,\r\n      minScale,\r\n      zoomValue,\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Navigation Widget - rotation buttons click\r\n   *\r\n   */\r\n  const handleRotateClick = ({ currentTarget: { id } }) => {\r\n    let x = 0,\r\n      y = 0,\r\n      z = 0;\r\n    if (id === 'widget-rotate-up') y = rotationValue;\r\n    if (id === 'widget-rotate-down') y = -rotationValue;\r\n    if (id === 'widget-rotate-left') x = -rotationValue;\r\n    if (id === 'widget-rotate-right') x = rotationValue;\r\n\r\n    rotateBy([x, y, z]);\r\n  };\r\n\r\n  const handleCenterClick = () => {\r\n    resetRotation();\r\n  };\r\n\r\n  // Reset rotation\r\n  function resetRotation() {\r\n    const countryPaths = select(svgRef.current).selectAll('path');\r\n\r\n    rotateProjectionTo({\r\n      selection: countryPaths,\r\n      projection,\r\n      path,\r\n      rotation,\r\n    });\r\n  }\r\n\r\n  // Rotate by\r\n  function rotateBy(rotation) {\r\n    const countryPaths = select(svgRef.current).selectAll('path');\r\n\r\n    throttledRotateProjectionBy({\r\n      selection: countryPaths,\r\n      path,\r\n      projection,\r\n      rotation,\r\n    });\r\n  }\r\n\r\n  if (isLoading) return <LoadingSpinner />;\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <svg ref={svgRef} className={classes.svg} width={width} height={height}>\r\n        <circle\r\n          className={classes.circle}\r\n          cx={width / 2}\r\n          cy={height / 2}\r\n          r={initialScale}\r\n        />\r\n        <g>\r\n          {data.features.map(({ id }) => (\r\n            <Tooltip title={getCountryById(id).name} enterDelay={500}>\r\n              <path\r\n                key={id}\r\n                id={id}\r\n                onClick={onCountryClick}\r\n                className={clsx({\r\n                  [classes.country]: true,\r\n                  [classes.selected]: selectedCountry.id === id,\r\n                })}\r\n              />\r\n            </Tooltip>\r\n          ))}\r\n        </g>\r\n      </svg>\r\n      <Widgets show={showWidgets}>\r\n        <WidgetRandomCountry onClick={onRandomCountryClick} />\r\n        <WidgetZoom onClick={handleZoomClick} />\r\n        <WidgetNavigation\r\n          onRotateClick={handleRotateClick}\r\n          onCenterClick={handleCenterClick}\r\n        />\r\n      </Widgets>\r\n    </div>\r\n  );\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport { feature } from 'topojson';\r\nimport axios from 'axios';\r\n\r\nexport const useGeoJsonData = () => {\r\n  const [data, setData] = useState({\r\n    features: [],\r\n    type: '',\r\n  });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let _isMounted = true;\r\n\r\n    const fetchData = async () => {\r\n      setIsLoading(true);\r\n      setIsError(false);\r\n\r\n      try {\r\n        const { data: topology } = await axios.get(\r\n          'https://gist.githubusercontent.com/sitek94/dff8b65aa26c9ba01d8f4217cf40587f/raw/topojson-countries-110m.json'\r\n        );\r\n\r\n        const geoJsonData = feature(topology, topology.objects.countries);\r\n\r\n        if (_isMounted) setData(geoJsonData);\r\n      } catch (error) {\r\n        if (_isMounted) setIsError(error);\r\n      }\r\n      if (_isMounted) setIsLoading(false);\r\n    };\r\n    fetchData();\r\n\r\n    return () => {\r\n      _isMounted = false;\r\n    };\r\n  }, []);\r\n\r\n  return [{ data, isLoading, isError }];\r\n};\r\n","import React from 'react';\r\nimport { ErrorOutline as ErrorIcon } from '@material-ui/icons';\r\nimport { makeStyles, Typography, Box } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(({ spacing }) => ({\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    height: '100%',\r\n  },\r\n  box: {\r\n    padding: spacing(1)\r\n  },\r\n}));\r\n\r\nexport const ErrorBox = ({ when }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Box\r\n      color=\"background.paper\"\r\n      bgcolor=\"text.secondary\"\r\n      className={classes.container}\r\n    >\r\n      <div className={classes.box}>\r\n        <ErrorIcon fontSize=\"large\" />\r\n        <Typography variant=\"h5\">Aw, Snap!</Typography>\r\n        <Typography variant=\"subtitle1\">Something went wrong while {when}.</Typography>\r\n      </div>\r\n    </Box>\r\n  );\r\n};\r\n","import { makeStyles } from '@material-ui/core';\r\n\r\nconst styles = {\r\n  horizontal: {\r\n    // Remove border from last detail item\r\n    '& tr:last-child': {\r\n      '& th, td': {\r\n        border: 0,\r\n      },\r\n    },\r\n  },\r\n  vertical: {\r\n    marginBottom: 10,\r\n  },\r\n};\r\n\r\nexport const useStyles = makeStyles(({ breakpoints }) => ({\r\n  container: {\r\n    [breakpoints.only('xs')]: styles.vertical,\r\n    [breakpoints.only('sm')]: styles.horizontal,\r\n    [breakpoints.only('md')]: styles.vertical,\r\n    [breakpoints.up('lg')]: styles.horizontal,\r\n  },\r\n}));\r\n","import { useState, useEffect, useReducer } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst FETCH_INIT = 'FETCH_INIT',\r\n      FETCH_SUCCESS = 'FETCH_SUCCESS',\r\n      FETCH_FAILURE = 'FETCH_FAILURE';\r\n\r\nconst dataFetchReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case FETCH_INIT:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        isError: false,\r\n      };\r\n    case FETCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        isErorr: false,\r\n        data: action.payload,\r\n      };\r\n    case FETCH_FAILURE:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        isError: true,\r\n      }\r\n    default:\r\n      throw new Error();\r\n  }\r\n};\r\n\r\nexport const useDataApi = ({\r\n  initialData,\r\n  initialUrl = null,\r\n  initialConfig = {},\r\n  axiosInstance = axios,\r\n}) => {\r\n  const [url, setUrl] = useState(initialUrl);\r\n  const [config, setConfig] = useState(initialConfig);\r\n\r\n  const [state, dispatch] = useReducer(dataFetchReducer, {\r\n    isLoading: false,\r\n    isError: false,\r\n    data: initialData,\r\n  });\r\n\r\n  useEffect(() => {\r\n    let didCancel = false;\r\n\r\n    const fetchData = async () => {\r\n      dispatch({ type: FETCH_INIT });\r\n\r\n      try {\r\n        const result = await axiosInstance.get(url, config);\r\n\r\n        if (!didCancel) {\r\n          dispatch({ type: FETCH_SUCCESS, payload: result.data });\r\n        }\r\n      } catch (error) {\r\n        if (!didCancel) {\r\n          dispatch({ type: FETCH_FAILURE });\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n\r\n    return () => {\r\n      didCancel = true;\r\n    }\r\n  }, [url, config, axiosInstance]);\r\n\r\n  return [state, { setUrl, setConfig }];\r\n};\r\n","import { format } from 'd3';\r\n\r\nconst LANGUAGES_LIMIT = 4;\r\n\r\nexport const initialDetails = {\r\n  capital: '',\r\n  currencies: [{ name: '' }],\r\n  population: 0,\r\n  area: 0,\r\n  languages: [{ name: '' }],\r\n};\r\n\r\n/**\r\n *\r\n * A function that transformes data received from REST Countries API\r\n * \r\n */\r\nexport const generateDetailsArray = ({\r\n  capital,\r\n  currencies,\r\n  population,\r\n  area,\r\n  languages,\r\n}) => [\r\n  { label: 'Capital', value: capital },\r\n  { label: 'Population', value: format(',d')(population) },\r\n  { label: 'Area', value: format(',d')(area) },\r\n  {\r\n    label: 'Languages',\r\n    value: languages\r\n      .slice(0, LANGUAGES_LIMIT + 1)\r\n      .map((l) => l.name)\r\n      .join(', '),\r\n  },\r\n  { label: 'Currency', value: currencies[0].name },\r\n];\r\n\r\n/**\r\n * A list of countries that are not listed by REST Countries API.\r\n * Data taken from Wikipedia.\r\n *\r\n *\r\n */\r\nexport const notListedCountries = {\r\n  // N. Cyprus\r\n  NCY: {\r\n    capital: 'North Nicosia',\r\n    currencies: [{ name: 'Turkish lira' }],\r\n    population: 326000,\r\n    area: 3355,\r\n    languages: [\r\n      {\r\n        name: 'Turkish',\r\n      },\r\n    ],\r\n  },\r\n  // Somaliland\r\n  SXX: {\r\n    capital: 'Hargeisa',\r\n    currencies: [\r\n      {\r\n        name: 'Somaliland shilling',\r\n      },\r\n    ],\r\n    population: 3508180,\r\n    area: 176120,\r\n    languages: [\r\n      {\r\n        name: 'Somali',\r\n      },\r\n    ],\r\n  },\r\n  // Kosovo\r\n  XXK: {\r\n    capital: 'Pristina',\r\n    currencies: [{ name: 'Euro' }],\r\n    population: 1873160,\r\n    area: 10887,\r\n    languages: [\r\n      {\r\n        name: 'Albanian',\r\n      },\r\n      {\r\n        name: 'Serbian',\r\n      },\r\n    ],\r\n  },\r\n};\r\n","import axios from 'axios';\r\n\r\n// Rest Countries API\r\nexport const restCountriesApi = axios.create({\r\n  baseURL: 'https://restcountries.eu/rest/v2/alpha/',\r\n});\r\n\r\nexport const unsplashApi = axios.create({\r\n  baseURL: 'https://api.unsplash.com/search/photos/',\r\n  params: {\r\n    per_page: 14,\r\n  },\r\n  headers: {\r\n    Authorization: `Client-ID ${process.env.REACT_APP_UNSPLASH_KEY}`,\r\n  },\r\n});\r\n\r\nexport const wikiApi = axios.create({\r\n  baseURL: 'https://en.wikipedia.org/api/rest_v1/page/summary/'\r\n});\r\n","import React, { useEffect } from 'react';\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableContainer,\r\n  TableCell,\r\n  TableRow,\r\n} from '@material-ui/core';\r\n\r\nimport { LoadingSpinner } from '../../LoadingSpinner';\r\nimport { ErrorBox } from '../../ErrorBox';\r\nimport { useStyles } from './details-styles';\r\nimport { useDataApi } from '../../../hooks/useDataApi';\r\nimport { initialState } from '../../../utils';\r\nimport {\r\n  generateDetailsArray,\r\n  notListedCountries,\r\n  initialDetails,\r\n} from './utils';\r\nimport { restCountriesApi } from '../apis';\r\n\r\nconst DetailItem = ({ label, value }) => (\r\n  <TableRow hover>\r\n    <TableCell component=\"th\" variant=\"head\">\r\n      {label}\r\n    </TableCell>\r\n    <TableCell>\r\n      {label === 'Area' ? (\r\n        <>\r\n          {value} km<sup>2</sup>\r\n        </>\r\n      ) : (\r\n        value\r\n      )}\r\n    </TableCell>\r\n  </TableRow>\r\n);\r\n\r\nexport const Details = ({ alpha }) => {\r\n  const classes = useStyles();\r\n\r\n  const [{ data, isLoading, isError }, { setUrl: setQuery }] = useDataApi({\r\n    axiosInstance: restCountriesApi,\r\n    initialData: initialDetails,\r\n    initialUrl: initialState.alpha, // Rest countries api searches by country alpha code\r\n  });\r\n\r\n  useEffect(() => {\r\n    // If alpha code is among not listed countries, don't fetch the data\r\n    if (notListedCountries[alpha]) return;\r\n\r\n    setQuery(alpha);\r\n  }, [alpha, setQuery]);\r\n\r\n  // Some countries like Kosovo, Somaliland and N. Cyprus are not listed\r\n  // by restcountries API, I hard coded these details in notListedCountries\r\n  const source = notListedCountries[alpha] || data;\r\n  const details = generateDetailsArray(source);\r\n\r\n  return (\r\n    <TableContainer className={classes.container}>\r\n      {isError && <ErrorBox when=\"fetching country details\" />}\r\n      {isLoading ? (\r\n        <LoadingSpinner />\r\n      ) : (\r\n        <Table size=\"small\">\r\n          <TableBody>\r\n            {details.map(({ label, value }) => (\r\n              <DetailItem key={label} label={label} value={value} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      )}\r\n    </TableContainer>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\nimport { makeStyles } from '@material-ui/core';\r\n\r\nconst styles = {\r\n  horizontal: {\r\n    display: 'grid',\r\n    gridTemplateColumns: '5.5fr 4.5fr',\r\n    columnGap: 10,\r\n  },\r\n  vertical: {\r\n    display: 'flex',\r\n    flexDirection: 'column-reverse',\r\n  }\r\n}\r\n\r\nconst useStyles = makeStyles(({ breakpoints }) => ({\r\n  infoBox: {\r\n    ...styles.horizontal,\r\n    [breakpoints.down('md')]: styles.vertical,\r\n    [breakpoints.down('sm')]: styles.horizontal,\r\n    [breakpoints.down('xs')]: styles.vertical,\r\n  }\r\n}))\r\n\r\nexport const InfoBox = ({ children }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n  <div className={classes.infoBox}>\r\n    {children}\r\n  </div>\r\n)}","import React from 'react';\r\nimport {\r\n  makeStyles,\r\n  Modal as MuiModal,\r\n  Backdrop,\r\n  Zoom,\r\n} from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  modal: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  div: {\r\n    outline: 'none',\r\n    boxShadow: theme.shadows[5],\r\n  },\r\n}));\r\n\r\nexport const Modal = ({ show, children, ...other }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <MuiModal\r\n      open={show}\r\n      className={classes.modal}\r\n      closeAfterTransition\r\n      BackdropComponent={Backdrop}\r\n      BackdropProps={{\r\n        timeout: 500,\r\n      }}\r\n      {...other}\r\n    >\r\n      <Zoom in={show}>\r\n        <div className={classes.div}>{children}</div>\r\n      </Zoom>\r\n    </MuiModal>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Link, makeStyles, Typography } from '@material-ui/core';\r\n\r\nconst REFERRAL_STRING = '?utm_source=your_app_name&utm_medium=referral';\r\n\r\nconst useStyles = makeStyles(\r\n  ({ breakpoints, palette: { common, getContrastText } }) => ({\r\n    figure: {\r\n      margin: '0 auto',\r\n      padding: 25,\r\n      color: getContrastText(common.white),\r\n      backgroundColor: common.white,\r\n      outline: 'none',\r\n      height: '85vh',\r\n    },\r\n    img: {\r\n      height: '100%',\r\n    },\r\n    [breakpoints.down('sm')]: {\r\n      figure: {\r\n        height: 'auto',\r\n        width: '95vw',\r\n      },\r\n      img: {\r\n        height: 'auto',\r\n        width: '100%',\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\nexport const PhotoViewer = ({ photo }) => {\r\n  const classes = useStyles();\r\n  const {\r\n    urls,\r\n    alt_description,\r\n    links,\r\n    user: { name },\r\n  } = photo;\r\n\r\n  return (\r\n    <figure className={classes.figure}>\r\n      <img className={classes.img} src={urls.regular} alt={alt_description} />\r\n      <figcaption>\r\n        <Typography variant=\"caption\" display=\"block\" align=\"center\">\r\n          by <Link href={links.html + REFERRAL_STRING}>{name}</Link> on{' '}\r\n          <Link href={`https://unsplash.com/${REFERRAL_STRING}`}>Unsplash</Link>\r\n        </Typography>\r\n      </figcaption>\r\n    </figure>\r\n  );\r\n};\r\n","import React, { useState, memo, useEffect } from 'react';\r\nimport { makeStyles, fade, Link } from '@material-ui/core';\r\n\r\nimport { LoadingSpinner } from '../../LoadingSpinner';\r\nimport { Modal } from '../../Modal';\r\nimport { PhotoViewer } from './PhotoViewer';\r\nimport { ErrorBox } from '../../ErrorBox';\r\nimport { useDataApi } from '../../../hooks/useDataApi';\r\nimport { initialState } from '../../../utils';\r\nimport { unsplashApi } from '../apis';\r\nimport Image from 'material-ui-image';\r\nimport { Alert, AlertTitle } from '@material-ui/lab';\r\n\r\nconst useStyles = makeStyles(\r\n  ({\r\n    spacing,\r\n    palette,\r\n    transitions: { create, duration },\r\n    breakpoints: {\r\n      down,\r\n      only,\r\n      values: { mobile },\r\n    },\r\n  }) => ({\r\n    photos: {\r\n      margin: spacing(2, 0),\r\n      height: '100%',\r\n    },\r\n    card: {\r\n      marginBottom: spacing(1),\r\n      cursor: 'pointer',\r\n      overflow: 'hidden',\r\n      /* Focus replacement */\r\n      outline: 0,\r\n      border: '3px solid transparent',\r\n      transition: create('border', duration.standard),\r\n      '&:focus': {\r\n        border: `3px solid ${fade(palette.primary.main, 0.9)}`,\r\n      },\r\n      /* Prevent borders breaks in columns  */\r\n      WebkitColumnBreakInside: 'avoid',\r\n      pageBreakInside: 'avoid',\r\n      breakInside: 'avoid',\r\n    },\r\n    list: {\r\n      columnCount: 3,\r\n      columnGap: spacing(1),\r\n      [only('md')]: { columnCount: 2 },\r\n      [down('xs')]: { columnCount: 2 },\r\n      [down(mobile)]: { columnCount: 1 },\r\n    },\r\n  })\r\n);\r\n\r\nexport const Photos = memo(({ term }) => {\r\n  const classes = useStyles();\r\n\r\n  // Fetch photos from Unsplash\r\n  const [{ data, isLoading, isError }, { setConfig }] = useDataApi({\r\n    initialData: { results: [] },\r\n    initialConfig: {\r\n      params: {\r\n        query: initialState.name,\r\n      },\r\n    },\r\n    axiosInstance: unsplashApi,\r\n  });\r\n  useEffect(\r\n    () =>\r\n      setConfig({\r\n        params: {\r\n          query: term,\r\n        },\r\n      }),\r\n    [term, setConfig]\r\n  );\r\n\r\n  // Open photo in a modal\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const closeModal = () => setIsModalOpen(false);\r\n  const [currentIndex, setCurrentIndex] = useState(1);\r\n  const handlePhotoClick = (index) => {\r\n    setCurrentIndex(index);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  // Something went wrong when fetching the photos\r\n  if (isError) return <ErrorBox when=\"fetching photos\" />;\r\n  // There are no photos\r\n  if (data.total_pages === 0) {\r\n    return (\r\n      <Alert severity=\"info\" style={{ marginTop: 16 }}>\r\n        <AlertTitle>No photos &#x2639;</AlertTitle>\r\n        Unfortunally, we couldn't find any photos for this country. But you can\r\n        explore thousands of other photos and images on{' '}\r\n        <Link href=\"https://unsplash.com/\" target=\"_blank\" rel=\"noopener\">\r\n          Unpslash website\r\n        </Link>\r\n        .\r\n      </Alert>\r\n    );\r\n  }\r\n  const photos = data.results;\r\n\r\n  return (\r\n    <div className={classes.photos}>\r\n      {isLoading ? (\r\n        <LoadingSpinner />\r\n      ) : (\r\n        <div className={classes.list}>\r\n          {photos.map(\r\n            ({ id, alt_description, urls, width, height, color }, i) => (\r\n              <div tabIndex=\"0\" key={id} className={classes.card}>\r\n                <Image\r\n                  alt={alt_description}\r\n                  src={urls.small}\r\n                  color={color}\r\n                  aspectRatio={width / height}\r\n                  animationDuration={1500}\r\n                  disableSpinner\r\n                  style={{\r\n                    display: 'block',\r\n                    /* Important! Prevents images from breaking in columns */\r\n                    breakInside: 'avoid',\r\n                    // marginBottom: spacing(1),\r\n                    cursor: 'pointer',\r\n                  }}\r\n                  onClick={() => handlePhotoClick(i)}\r\n                />\r\n              </div>\r\n            )\r\n          )}\r\n        </div>\r\n      )}\r\n      <Modal show={isModalOpen} onClose={closeModal}>\r\n        <PhotoViewer photo={photos[currentIndex]} />\r\n      </Modal>\r\n    </div>\r\n  );\r\n});\r\n","import React, { useEffect } from 'react';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nimport { LoadingSpinner } from '../../LoadingSpinner';\r\nimport { limitCharacters } from './utils';\r\nimport { useDataApi } from '../../../hooks/useDataApi';\r\nimport { ErrorBox } from '../../ErrorBox';\r\nimport { initialState } from '../../../utils';\r\nimport { wikiApi } from '../apis';\r\n\r\nexport const WikiEntry = ({ term }) => {\r\n  const [{ data, isLoading, isError }, { setUrl }] = useDataApi({\r\n    initialData: { extract: '' },\r\n    initialUrl: initialState.name,\r\n    axiosInstance: wikiApi,\r\n  });\r\n\r\n  useEffect(() => {\r\n     setUrl(term);\r\n  }, [term, setUrl]);\r\n\r\n  if (isError) return <ErrorBox when=\"fetching paragraph about the country\" />;\r\n\r\n  return (\r\n    <div className=\"WikiEntry\">\r\n      {isLoading ? (\r\n        <LoadingSpinner />\r\n      ) : (\r\n        <Typography variont=\"body2\" align=\"justify\">\r\n          {limitCharacters(data.extract, 480)}\r\n        </Typography>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","/**\r\n * A function keeps removing last sentence from given string until\r\n * characters limit is met.\r\n * \r\n * @param {string} string Text to be shortened, sentences separated by period.\r\n * @param {number} limit Max length of the string\r\n */\r\nexport const limitCharacters = (string, limit) => {\r\n  let shortenedString = string;\r\n\r\n    // Keep removing one sentence from the entry\r\n    // until it is less than max length\r\n  while (shortenedString.length >= limit) {\r\n    shortenedString = shortenedString.split('. ').slice(0, -1).join('. ') + '.';\r\n  }\r\n  return shortenedString;\r\n};\r\n","import React from 'react';\r\n\r\nimport { Details } from './details';\r\nimport { InfoBox } from './InfoBox';\r\nimport { Photos } from './photos';\r\nimport { WikiEntry } from './wiki-entry';\r\n\r\nexport const CountryAbout = ({ selectedCountry: { name, alpha } }) => {\r\n  return (\r\n    <>\r\n      <InfoBox>\r\n        <WikiEntry term={name} />\r\n        <Details alpha={alpha} />\r\n      </InfoBox>\r\n      <Photos term={name} />\r\n    </>\r\n  );\r\n};\r\n","import { makeStyles, fade } from '@material-ui/core/styles';\r\n\r\nexport const useStyles = makeStyles(\r\n  ({\r\n    spacing,\r\n    shape,\r\n    breakpoints: { down, values: { mobile } },\r\n    transitions: { create, duration },\r\n    palette: { primary, common, getContrastText }\r\n  }) => ({\r\n    /* Autocomplete component */\r\n    autocompleteRoot: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      width: 250,\r\n\r\n      /* Position over the globe */\r\n      position: 'absolute',\r\n      zIndex: 100,\r\n      left: spacing(4),\r\n      top: spacing(4),\r\n      [down('md')]: {\r\n        left: spacing(2),\r\n        top: spacing(2),\r\n      },\r\n      /* Position above the globe */\r\n      [down(mobile)]: {\r\n        position: 'relative',\r\n        top: 0,\r\n        left: 0,\r\n        width: '100%',\r\n        marginBottom: spacing(2),\r\n      },\r\n    },\r\n    autocompletePaper: {\r\n      margin: 0,\r\n      borderRadius: shape.borderRadius,\r\n    },\r\n\r\n    /* Input */\r\n    inputRoot: {\r\n      color: 'inherit',\r\n    },\r\n    inputInput: {\r\n      padding: spacing(1, 2),\r\n      width: '100%',\r\n      '&::selection': {\r\n        color: primary.dark,\r\n        backgroundColor: common.white,\r\n      },\r\n    },\r\n\r\n    /* Input wrapper (Paper) */\r\n    inputWrapper: {\r\n      width: '100%',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      borderRadius: shape.borderRadius,\r\n      color: getContrastText(primary.main),\r\n      backgroundColor: primary.main,\r\n      transition: create('background-color', duration.standard),\r\n    },\r\n    \r\n    /* Search icon */\r\n    searchIcon: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      color: fade(getContrastText(primary.main), 0.8),\r\n      padding: 10,\r\n    },\r\n  })\r\n);\r\n","import React, { useState } from 'react';\r\nimport { Paper, InputBase, Slide } from '@material-ui/core';\r\nimport { Autocomplete } from '@material-ui/lab';\r\nimport { Search as SearchIcon } from '@material-ui/icons';\r\n\r\nimport { countries } from '../../utils/countries';\r\nimport { useStyles } from './search-box-styles';\r\nimport { ALPHA_KEYS } from '../../utils/keyCodes';\r\n\r\nexport const SearchBox = ({ show, onOptionSelect, ...other }) => {\r\n  const classes = useStyles();\r\n\r\n  /**\r\n   * A value that is currently selected\r\n   * \r\n   */\r\n  const [value, setValue] = useState('');\r\n  const handleValueChange = (event, newValue) => {\r\n    setValue(newValue);\r\n\r\n    if (newValue) onOptionSelect(event, newValue);\r\n  };\r\n\r\n  /**\r\n   * Input value\r\n   * \r\n   */\r\n  const [inputValue, setInputValue] = useState('');\r\n  const handleInputValueChange = (event, newValue) => {\r\n    setInputValue(newValue)\r\n  };\r\n\r\n  /**\r\n   * Prevents propagtion of alphabetic keyboard events that are used \r\n   * as shortcuts and when ctrl key is pressed.\r\n   * \r\n   * This is to ensure that it is not possible to hide widgets or rotate\r\n   * the globe when typing.\r\n   * \r\n   */\r\n  const handleKeyDown = (event) => {\r\n    const { which, keyCode, ctrlKey } = event;\r\n    const pressedKey = which || keyCode;\r\n\r\n    if (ctrlKey || ALPHA_KEYS.includes(pressedKey)) {\r\n      event.stopPropagation();\r\n    }\r\n  }\r\n\r\n  const autocomplete = (\r\n    <Autocomplete\r\n      size=\"small\"\r\n      value={value}\r\n      inputValue={inputValue}\r\n      onChange={handleValueChange}\r\n      onInputChange={handleInputValueChange}\r\n      options={countries}\r\n      getOptionLabel={(option) => (option ? option.name : '')}\r\n      classes={{\r\n        root: classes.autocompleteRoot,\r\n        paper: classes.autocompletePaper,\r\n      }}\r\n      {...other}\r\n      renderInput={(params) => (\r\n        <Paper\r\n          ref={params.InputProps.ref}\r\n          className={classes.inputWrapper}\r\n          elevation={7}\r\n        >\r\n          <InputBase\r\n            id=\"select-country\"\r\n            type=\"text\"\r\n            placeholder=\"Search for a country...\"\r\n            aria-label=\"Search for a country\"\r\n            classes={{\r\n              root: classes.inputRoot,\r\n              input: classes.inputInput,\r\n            }}\r\n            {...params.inputProps}\r\n            onKeyDown={handleKeyDown}\r\n          />\r\n          <div className={classes.searchIcon}>\r\n            <SearchIcon />\r\n          </div>\r\n        </Paper>\r\n      )}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <Slide in={show} direction=\"right\" mountOnEnter unmountOnExit>\r\n      {autocomplete}\r\n    </Slide>\r\n  );\r\n};\r\n","import { useMediaQuery, useTheme } from '@material-ui/core';\r\nimport { useBodyWidth } from './';\r\n\r\nexport const useColumnWidth = () => {\r\n  const { breakpoints, spacing } = useTheme();\r\n  const bodyWidth = useBodyWidth();\r\n\r\n  // While calculating the width of the column I have to think\r\n  // how the layout changes over time. Calculations are slightly\r\n  // different, becaue of the paddings.\r\n  const isOneColumn = useMediaQuery(breakpoints.down('sm'));\r\n\r\n  const columnWidth = isOneColumn\r\n    ? // Up to 960px - one column\r\n      // width = bodyWidth - padding * 2\r\n      bodyWidth - spacing(2) * 2\r\n    : // More than 960px - two columns\r\n      // width = bodyWidth / 2 - paddingLeft - paddingRight / 2\r\n      bodyWidth / 2 - spacing(2) - spacing(1);\r\n\r\n  return columnWidth;\r\n};\r\n","import { useState, useLayoutEffect } from 'react';\r\nimport { debounce } from 'lodash';\r\n\r\nexport const useBodyWidth = (delay = 250) => {\r\n  const [width, setWidth] = useState(document.body.clientWidth);\r\n\r\n  useLayoutEffect(() => {\r\n    const handleResize = () => {\r\n      setWidth(document.body.clientWidth);\r\n    };\r\n\r\n    const debouncedHandleResize = debounce(handleResize, delay);\r\n\r\n    window.addEventListener('resize', debouncedHandleResize);\r\n\r\n    handleResize();\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', debouncedHandleResize);\r\n    };\r\n  }, [delay]);\r\n\r\n  return width;\r\n};\r\n","import { useTheme, useMediaQuery } from '@material-ui/core';\r\nimport { useColumnWidth } from './';\r\n\r\nexport const useColumnHeight = () => {\r\n  const { breakpoints, spacing } = useTheme();\r\n\r\n  // Check media queries in order to get correct value of the toolbar\r\n  const matchesXsAndLandscape = useMediaQuery(\r\n    `${breakpoints.up('xs')} and (orientation: landscape)`\r\n  );\r\n  const matchesUpSm = useMediaQuery(breakpoints.up('sm'));\r\n\r\n  // Get all the necessary values to compute the height\r\n  const viewportHeight = document.documentElement.clientHeight;\r\n  const toolbarHeight = matchesUpSm ? 64 : matchesXsAndLandscape ? 48 : 56;\r\n  const footerHeight = 36;\r\n  const padding = spacing(2) * 2;\r\n\r\n  // Compute by substracting all the values from viewport height\r\n  return viewportHeight - toolbarHeight - footerHeight - padding;\r\n};\r\n\r\nexport const useGlobeSize = () => {\r\n  const { breakpoints } = useTheme();\r\n\r\n  // 600px and down\r\n  const matchesSmallScreens = useMediaQuery(breakpoints.down('sm'));\r\n  // 600px - 960px\r\n  const matchesMediumScreens = useMediaQuery(breakpoints.only('sm'));\r\n  // 960px and up\r\n  const matchesLargeScreens = useMediaQuery(breakpoints.up('md'));\r\n\r\n  const columnWidth = useColumnWidth();\r\n  const columnHeight = useColumnHeight();\r\n\r\n  let width, height;\r\n\r\n  // Globe should be a square\r\n  if (matchesSmallScreens) {\r\n    width = columnWidth;\r\n    height = columnWidth;\r\n  }\r\n\r\n  // Cap height at 600\r\n  if (matchesMediumScreens) {\r\n    width = columnWidth;\r\n    height = 600;\r\n  }\r\n\r\n  // Take full width and height of the column\r\n  if (matchesLargeScreens) {\r\n    width = columnWidth;\r\n    height = columnHeight;\r\n  }\r\n\r\n  return [width, height];\r\n};\r\n","import { useState } from 'react';\r\nimport { createMuiTheme, useMediaQuery } from '@material-ui/core';\r\n\r\n/* Base theme for reference when creating app theme */\r\nconst defaultTheme = createMuiTheme();\r\n\r\nexport const useTheme = () => {\r\n  /* Dark / light mode */\r\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\r\n  const [darkMode, setDarkMode] = useState(prefersDarkMode);\r\n\r\n  const theme = createMuiTheme({\r\n    palette: {\r\n      type: darkMode ? 'dark' : 'light',\r\n      primary: {\r\n        /* Shade of blue from Material UI website */\r\n        main: '#1976d2',\r\n      },\r\n    },\r\n    breakpoints: {\r\n      values: {\r\n        /* Extend original breakpoints with custom mobile breakpoint */\r\n        ...defaultTheme.breakpoints.values,\r\n        mobile: 400,\r\n      },\r\n    },\r\n    shape: {\r\n      borderRadius: 8,\r\n      buttonWidth: 29\r\n    },\r\n  });\r\n\r\n  const toggleTheme = () => setDarkMode(!darkMode);\r\n  return [theme, toggleTheme];\r\n};\r\n","import React from 'react';\r\n\r\nimport { Modal } from './Modal';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst createData = (key, description) => ({ key, description });\r\n\r\nconst rows = [\r\n  createData('ctrl ↑', 'Rotate up'),\r\n  createData('ctrl ↓', 'Rotate down'),\r\n  createData('ctrl ←', 'Rotate left'),\r\n  createData('ctrl →', 'Rotate right'),\r\n  createData('+', 'Zoom in' ),\r\n  createData('-', 'Zoom out' ),\r\n  createData('l', 'Rotate to selected country' ),\r\n  createData('r', 'Select random country' ),\r\n  createData('w', 'Show/hide widgets' ),\r\n  createData('ctrl /', 'Show/hide shortcuts' ),\r\n];\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 300,\r\n  },\r\n  cellKey: {\r\n    fontFamily: 'monospace',\r\n    fontSize: '1.1rem',\r\n  }\r\n});\r\n\r\nconst ShortcutsTable = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table \r\n        className={classes.table}\r\n        aria-label=\"Shortcuts table\"\r\n      >\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>Key</TableCell>\r\n            <TableCell>Description</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {rows.map((row) => (\r\n            <TableRow key={row.key}>\r\n              <TableCell align=\"center\" className={classes.cellKey}>{row.key}</TableCell>\r\n              <TableCell align=\"left\">{row.description}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n};\r\n\r\nexport const Shortcuts = ({ show, onClose }) => {\r\n  return (\r\n    <Modal show={show} onClose={onClose}>\r\n      <ShortcutsTable />\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useCallback, useEffect, useReducer, useState } from 'react';\r\nimport { ThemeProvider, CssBaseline } from '@material-ui/core';\r\n\r\nimport { Layout } from '../layout';\r\nimport { Navbar } from '../Navbar';\r\nimport { Footer } from '../Footer';\r\nimport { Globe } from '../globe';\r\nimport { CountryAbout } from '../country-about';\r\nimport { SearchBox } from '../search-box';\r\nimport { useGlobeSize } from '../layout/hooks';\r\nimport { useTheme } from './useTheme';\r\nimport { getCountryById, getRandomCountry, initialState } from '../../utils';\r\nimport KEY_ from '../../utils/keyCodes';\r\nimport { Shortcuts } from '../Shortcuts';\r\n\r\nexport const App = () => {\r\n  const [theme, toggleTheme] = useTheme();\r\n  const [globeWidth, globeHeight] = useGlobeSize();\r\n\r\n  /**\r\n   * Show/hide widgets\r\n   */\r\n  const [showWidgets, setShowWidgets] = useState(true);\r\n  const toggleWidgetsVisibility = () => {\r\n    setShowWidgets((prev) => !prev);\r\n  }\r\n\r\n  /**\r\n   * Show/hide shortcuts\r\n   */\r\n  const [shortcuts, setShowShortcuts] = useState(false);\r\n  const hideShortcuts = () => setShowShortcuts(false);\r\n  const toggleShortcutsVisibility = () => {\r\n    setShowShortcuts(prev => !prev);\r\n  }\r\n\r\n  /**\r\n   * Selected country and rotation\r\n   *\r\n   * When updating the country it is necessary to update the rotation\r\n   * as well.\r\n   *\r\n   */\r\n  const [selectedCountry, setSelectedCountry] = useState(initialState);\r\n  const [rotation, setRotation] = useState(initialState.rotation);\r\n  const [, centerOnSelectedCountry] = useReducer((x) => x + 1, 0);\r\n\r\n  const updateSelectedCountry = useCallback((newCountry) => {\r\n    setSelectedCountry(newCountry);\r\n    setRotation(newCountry.rotation);\r\n  }, []);\r\n\r\n  const setRandomCountry = useCallback(() => {\r\n    updateSelectedCountry(getRandomCountry());\r\n  }, [updateSelectedCountry]);\r\n\r\n  /**\r\n   * Event handlers\r\n   *\r\n   */\r\n  const handleCountryClick = ({ target: { id } }) => {\r\n    updateSelectedCountry(getCountryById(id));\r\n  };\r\n\r\n  const handleCountrySelect = (event, newCountry) => {\r\n    if (newCountry) updateSelectedCountry(newCountry);\r\n  };\r\n\r\n  const handleRandomCountryClick = () => {\r\n    setRandomCountry();\r\n  };\r\n\r\n  /**\r\n   * Add key down event listener to the window object\r\n   *\r\n   *\r\n   */\r\n  useEffect(() => {\r\n    const handleKeyDown = ({ which, keyCode, ctrlKey }) => {\r\n      const pressedKey = which || keyCode;\r\n\r\n      if (pressedKey === KEY_.L) centerOnSelectedCountry();\r\n      if (pressedKey === KEY_.R) setRandomCountry();\r\n      if (pressedKey === KEY_.W) toggleWidgetsVisibility();\r\n      if (ctrlKey && pressedKey === KEY_.SLASH) toggleShortcutsVisibility();\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [setRandomCountry]);\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <CssBaseline />\r\n      <Layout\r\n        navbar={\r\n          <Navbar\r\n            title={selectedCountry.name}\r\n            onThemeIconClick={toggleTheme}\r\n            onWidgetsIconClick={toggleWidgetsVisibility}\r\n            onShortcutsIconClick={toggleShortcutsVisibility}\r\n          />\r\n        }\r\n        leftColumn={\r\n          <>\r\n            <SearchBox\r\n              show={showWidgets}\r\n              onOptionSelect={handleCountrySelect}\r\n            />\r\n            <Globe\r\n              rotation={rotation}\r\n              rotationBy={rotation}\r\n              initialRotation={initialState.rotation}\r\n              width={globeWidth}\r\n              height={globeHeight}\r\n              selectedCountry={selectedCountry}\r\n              onCountryClick={handleCountryClick}\r\n              onRandomCountryClick={handleRandomCountryClick}\r\n              showWidgets={showWidgets}\r\n            />\r\n          </>\r\n        }\r\n        rightColumn={<CountryAbout selectedCountry={selectedCountry} />}\r\n        footer={<Footer />}\r\n      />\r\n      <Shortcuts show={shortcuts} onClose={hideShortcuts} />\r\n    </ThemeProvider>\r\n  );\r\n};\r\n","import { useTheme, useMediaQuery } from '@material-ui/core';\r\nimport { useColumnWidth, useColumnHeight } from './';\r\n\r\nexport const useGlobeSize = () => {\r\n  const { breakpoints } = useTheme();\r\n\r\n  // 600px and down\r\n  const matchesSmallScreens = useMediaQuery(breakpoints.down('sm'));\r\n  // 600px - 960px\r\n  const matchesMediumScreens = useMediaQuery(breakpoints.only('sm'));\r\n  // 960px and up\r\n  const matchesLargeScreens = useMediaQuery(breakpoints.up('md'));\r\n\r\n  const columnWidth = useColumnWidth();\r\n  const columnHeight = useColumnHeight();\r\n\r\n  let width, height;\r\n\r\n  // Globe should be a square\r\n  if (matchesSmallScreens) {\r\n    width = columnWidth;\r\n    height = columnWidth;\r\n  }\r\n\r\n  // Cap height at 600\r\n  if (matchesMediumScreens) {\r\n    width = columnWidth;\r\n    height = 600;\r\n  }\r\n\r\n  // Take full width and height of the column\r\n  if (matchesLargeScreens) {\r\n    width = columnWidth;\r\n    height = columnHeight;\r\n  }\r\n\r\n  return [width, height];\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { App } from './components/app';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}